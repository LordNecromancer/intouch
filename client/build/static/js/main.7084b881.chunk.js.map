{"version":3,"sources":["keys.js","components/Header.js","actions/types.js","actions/index.js","components/ComposeComment.js","components/ModalContent.js","components/ModalTrigger.js","components/Modal.js","components/post/postFormField.js","components/registering/LogInForm.js","components/Landing.js","components/SearchBar.js","components/general/handleMeta.js","components/CommentSection.js","components/UploadImage.js","components/Dashboard.js","components/UploadImages.js","components/post/NewPostForm.js","components/general/modali.js","components/OtherUser.js","components/registering/SignUpForm.js","components/post/verifyDelete.js","components/FriendRequests.js","components/Friends.js","components/Chat.js","components/SendEmail.js","components/general/ShowMessage.js","components/Setting.js","components/MessageList.js","components/Feed.js","components/App.js","serviceWorker.js","reducers/index.js","reducers/authReducer.js","reducers/postReducer.js","reducers/findUserReducer.js","reducers/errorReducer.js","reducers/chatReducer.js","reducers/feedReducer.js","reducers/showMessageReducer.js","index.js"],"names":["module","exports","host","dropDownOptions","key","text","value","as","href","Link","to","Header","this","props","auth","data-tip","pathname","state","postId","title","content","className","friendRequestsReceived","length","style","minWidth","Button","Group","color","height","marginBottom","width","src","imageName","keys","username","Dropdown","floating","trigger","Fragment","options","backgroundColor","renderContent","Component","connect","FETCH_USER","FETCH_POSTS","CATCH_ERROR","FETCH_CHATS","FETCH_POST","UPDATE_LIKES","FETCH_FEED","UPDATE_CHATS","SHOW_MESSAGE","fetchUser","dispatch","a","axios","get","res","type","payload","data","deletePost","history","post","push","findUser","name","error","likePost","e","console","log","sendFriendRequest","uploadImage","file","composeComment","term","submitHandle","sendComment","setState","placeholder","onChange","event","target","onClick","values","comment","withRouter","ModalContent","ReactDOM","createPortal","tag","role","tabIndex","aria-modal","onClickOutside","onKeyDown","ref","buttonRef","aria-label","aria-labelledby","closeModal","id","viewBox","d","document","getElementById","ModalTrigger","showModal","triggerText","input","label","meta","touched","marginTop","LogInForm","Field","component","postFormField","Form","border","padding","maxWidth","onSubmit","handleSubmit","logIn","reduxForm","validate","errors","password","form","Landing","isShowing","openModalHandler","closeModalHandler","flexBasis","SearchBar","htmlFor","handleMeta","createdAt","isEdited","Date","toDateString","CommentSection","num","getComments","getMoreComments","Comment","dividing","comments","map","Avatar","_user","Content","Author","Metadata","Text","UploadImage","fileURL","FormData","append","files","URL","createObjectURL","Dashboard","skip","handleNoPosts","posts","window","addEventListener","body","scrollTop","documentElement","scrollHeight","clientHeight","fetchPosts","removeEventListener","current_user","wordWrap","_id","images","image","likes","filter","class","ComposeComment","Object","UploadImages","multiple","handleImageData","NewPostForm","imageData","initialize","location","forEach","JSON","stringify","sendPost","user","userId","useModali","animated","message","buttons","isStyleCancel","toggleMyModal","isStyleDestructive","myModal","data-for","Modal","OtherUser","match","params","friends","friendRequestsSent","setFriendToolTip","setFriendIcon","handleFriendButton","friendPosts","reverse","find","SignUpForm","alignSelf","signUp","email","confirmPass","FriendRequests","friendRequests","request","acceptFriendRequest","Friends","friend","Chat","scrollToBottom","messagesEnd","scrollIntoView","behavior","chats","messages","_users","chat","_sender","margin","sendMessage","t","then","fetchChats","prevProps","prevState","snapshot","float","clear","el","myId","socket","emit","on","off","SendEmail","btnDisable","time","resendToken","setTimer","interval","setInterval","disabled","Math","floor","ShowMessage","element","showMessage","Setting","MessageList","fetchMessageList","sender","Feed","fetchFeed","feed","App","exact","path","verifyDelete","Settings","Boolean","hostname","combineReducers","action","formReducer","actions","_","mapKeys","SubmissionError","socketIOClient","persistConfig","storage","whitelist","persistedReducer","persistReducer","reducers","store","createStore","applyMiddleware","reduxThunk","persistor","persistStore","render","loading","navigator","serviceWorker","ready","registration","unregister"],"mappings":"oJACIA,EAAOC,QAAQ,CACXC,KAAK,M,mQCOPC,EAAgB,CAClB,CACIC,IAAI,SACJC,KAAK,SACLC,MAAM,SACNC,GAAG,IACHC,KAAK,eAEP,CACFJ,IAAI,MACAC,KAAK,UACLC,MAAM,UACNC,GAAGE,IACHC,GAAG,cAGLC,E,wLAOE,OAAQC,KAAKC,MAAMC,MAEf,KAAK,KACD,OACJ,KAAK,EACD,MAAO,CACH,wBAAIV,IAAI,KAAI,uBAAGI,KAAK,uBAAR,wBACZ,wBAAIJ,IAAI,KAAI,kBAAC,IAAD,CAAMM,GAAG,YAAT,YAIZ,wBAAIN,IAAI,KAAI,kBAAC,IAAD,CAAMM,GAAG,WAAT,WAMpB,QACI,MAAO,CACH,wBAAIN,IAAI,KAAR,WAAoB,kBAAC,IAAD,MAApB,wBAIA,wBAAIA,IAAI,KAEJ,kBAAC,IAAD,CAAOW,WAAS,kBACZL,GAAI,CACAM,SAAU,YACVC,MAAO,CACHC,OAAQ,GACRC,MAAM,GACNC,QAAQ,MAKhB,uBAAGC,UAAU,kBAAb,YAMR,wBAAIjB,IAAI,KACJ,kBAAC,IAAD,CAAOW,WAAS,kBAAkBL,GAAG,iBAAiBW,UAAU,mBAAhE,kBAEI,0BAAMA,UAAU,aAAaT,KAAKC,MAAMC,KAAKQ,uBAAuBC,UAI5E,wBAAInB,IAAI,KACJ,kBAAC,IAAD,CAAOW,WAAS,UAAWL,GAAG,iBAC1B,2CAGR,wBAAIN,IAAI,KACJ,kBAAC,IAAD,CAAOW,WAAS,WAAYL,GAAG,aAA/B,aAMJ,wBAAIN,IAAI,KACJ,yBAAKiB,UAAU,OAAOG,MAAO,CAACC,SAAS,SACnC,kBAACC,EAAA,EAAOC,MAAR,CAAcC,MAAM,OAAOJ,MAAO,CAACK,OAAO,QAAQC,aAAa,MAC3D,kBAACJ,EAAA,EAAD,KACJ,yBAAKF,MAAO,CAACO,MAAM,OAAOF,OAAO,QAASR,UAAU,wBAAwBW,IAAKpB,KAAKC,MAAMC,KAAKmB,UAAaC,IAAKhC,KAAKU,KAAKC,MAAMC,KAAKmB,UAAW,KAClJrB,KAAKC,MAAMC,KAAKqB,UAGb,kBAACC,EAAA,EAAD,CAAUf,UAAU,cAAcgB,UAAQ,EAAEC,QAAS,kBAAC,IAAMC,SAAP,MAAoBC,QAASrC,W,+BAY1G,OACI,6BACA,yBAAKkB,UAAU,cAAcG,MAAO,CAACiB,gBAAgB,WACjD,kBAAC,IAAD,CAAM/B,GAAIE,KAAKC,MAAMC,KAAO,aAAe,IAAMO,UAAU,qBACvD,yBAAKG,MAAO,CAACK,OAAO,UAAWR,UAAU,kBAAkBW,IAAKE,IAAKhC,KAAK,eAG9E,wBAAImB,UAAU,SACTT,KAAK8B,uB,GAhGLC,aAsHNC,kBATf,SAAyB3B,GAGrB,MAAM,CAEFH,KAAKG,EAAMH,OAIJ8B,CAAyBjC,G,0CC9I3BkC,EAAY,aACZC,EAAa,cAGbC,EAAY,cACZC,EAAa,cAEbC,EAAW,aACXC,EAAa,eACbC,EAAW,aACXC,EAAa,eACbC,EAAa,eCMnB,SAASC,IAEX,6CAAO,WAAOC,GAAP,eAAAC,EAAA,qEACaC,IAAMC,IAAI,qBADvB,OACGC,EADH,OAEHJ,EAAS,CAACK,KAAKf,EAAWgB,QAAQF,EAAIG,OAFnC,yCAAP,mDAAM,GAyBJ,SAASC,EAAW7C,EAAO8C,GAC9B,6CAAO,WAAOT,GAAP,eAAAC,EAAA,qEACaC,IAAMQ,KAAK,mBAAmB,CAAC/C,OAAQA,IADpD,cACGyC,EADH,gBAEEJ,EAAS,CAACK,KAAKf,EAAWgB,QAAQF,EAAIG,OAFxC,OAGHE,EAAQE,KAAK,cAHV,yCAAP,mDAAM,GAmCH,SAASC,EAASC,EAAKJ,GAE1B,6CAAO,WAAOT,GAAP,eAAAC,EAAA,8EAGmBC,IAAMC,IAAI,cAAgBU,GAH7C,OAGOT,EAHP,OAICK,EAAQE,KAAK,UAAYE,GACzBb,EAAS,CAACK,KAAMd,EAAae,QAASF,EAAIG,OAL3C,gDAOCP,EAAS,CAACK,KAAMb,EAAac,QAAS,CAACD,KAAK,iBAAiBS,MAAM,6BAPpE,uDAAP,mDAAM,GAyFH,SAASC,EAASpD,GAErB,IACA,6CAAO,WAAOqC,GAAP,eAAAC,EAAA,qEACaC,IAAMQ,KAAK,YAAY,CAAC/C,OAAQA,IAD7C,OACGyC,EADH,OAEHJ,EAAS,CAACK,KAAKV,EAAaW,QAAQF,EAAIG,OAFrC,yCAAP,mDAAM,GAIL,MAAOS,GACJC,QAAQC,IAAIF,IAYb,SAASG,EAAkBvC,GAE9B,IAGA,6CAAO,WAAOoB,GAAP,eAAAC,EAAA,qEACaC,IAAMQ,KAAK,kBAAkB,CAAC9B,SAASA,IADpD,OACGwB,EADH,OAEHJ,EAAS,CAACK,KAAKf,EAAWgB,QAAQF,EAAIG,OAFnC,yCAAP,mDAAM,GAIL,MAAOS,GACJC,QAAQC,IAAIF,IA2Db,SAASI,EAAYC,GAExB,OADAJ,QAAQC,IAAIG,GACZ,sCAAO,WAAOrB,GAAP,eAAAC,EAAA,8EAEmBC,IAAMQ,KAAK,cAAeW,GAF7C,OAEOjB,EAFP,OAGCJ,EAAS,CAACK,KAAMf,EAAYgB,QAASF,EAAIG,OAH1C,gDAKKU,QAAQC,IAAR,MALL,uDAAP,mDAAM,G,IClQJI,E,2MAEF5D,MAAM,CAAC6D,KAAO,I,EAGdC,aAAc,WACV,EAAKlE,MAAMmE,YAAY,EAAK/D,MAAM6D,KAAM,EAAKjE,MAAMK,OAAQ,EAAKL,MAAMmD,SACtE,EAAKiB,SAAS,CAACH,KAAK,M,wEAEd,IAAD,OACL,OACI,6BAEA,8BACI,2BAAOxE,MAAOM,KAAKK,MAAM6D,KAAMI,YAAY,kBAAkB7D,UAAU,cAAc8D,SAAU,SAACC,GAAD,OAAW,EAAKH,SAAS,CAACH,KAAOM,EAAMC,OAAO/E,WAE7I,4BAAQsD,KAAK,SAASvC,UAAU,qBAAqBiE,QAAS1E,KAAKmE,cAAnE,c,GAhBapC,aA0BdC,cAAQ,KAAK,CAACoC,YDMtB,SAAqBO,EAAOrE,EAAO8C,GACtC,6CAAO,WAAOT,GAAP,eAAAC,EAAA,qEACaC,IAAMQ,KAAK,oBAAoB,CAAC/C,OAAQA,EAAOsE,QAAQD,IADpE,OACG5B,EADH,OAGHJ,EAAS,CAACK,KAAKX,EAAWY,QAAQF,EAAIG,OAHnC,yCAAP,mDAAM,KCPKlB,CAA4B6C,YAAWZ,ICUvCa,EArCf,iLAEQ,OAAOC,IAASC,aAER,2BACIC,IAAI,QACJC,KAAK,SACLC,SAAS,KACTC,aAAW,OACX3E,UAAU,cACViE,QAAS1E,KAAKC,MAAMoF,eACpBC,UAAWtF,KAAKC,MAAMqF,WAEtB,yBAAK7E,UAAU,cACX,4BACI8E,IAAKvF,KAAKC,MAAMuF,UAChBC,aAAW,cACXC,kBAAgB,cAChBjF,UAAU,eACViE,QAAS1E,KAAKC,MAAM0F,YAElC,0BAAMC,GAAG,cAAcnF,UAAU,gBAAjC,SAGc,yBAAKA,UAAU,oBAAoBoF,QAAQ,aACvC,0BAAMC,EAAE,sCAGhB,yBAAKrF,UAAU,cAAcT,KAAKC,MAAMO,WAIpDuF,SAASC,eAAe,cAhCpC,GAAkCjE,aCWnBkE,E,iLAZP,OACI,4BACIV,IAAKvF,KAAKC,MAAMuF,UAChBd,QAAS1E,KAAKC,MAAMiG,UACpBzF,UAAU,gBAETT,KAAKC,MAAMkG,iB,GARDpE,a,GCEAA,Y,0BCDZ,cAA+C,IAA7CqE,EAA4C,EAA5CA,MAAMC,EAAsC,EAAtCA,MAAMrD,EAAgC,EAAhCA,KAAgC,IAA1BsD,KAAOC,EAAmB,EAAnBA,QAAQ9C,EAAW,EAAXA,MAE9C,OACI,yBAAK7C,MAAO,CAACM,aAAe,OAAOsF,UAAU,SAE7C,yBAAK/F,UAAU,QACX,yCAAO6D,YAAa+B,EAAO5F,UAAU,oCAAuC2F,EAA5E,CAAmFpD,KAAMA,EAAMpC,MAAO,CAACM,aAAe,WAItH,yBAAKT,UAAU,gBACX,uBAAGA,UAAU,iBACR8F,GAAW9C,MCL1BgD,G,8LAME,OACI,6BACI,yBAAK7F,MAAO,CAACK,OAAO,SAAUR,UAAU,kBAAkBW,IAAKE,IAAKhC,KAAK,cAEzE,kBAACoH,EAAA,EAAD,CAAQlD,KAAK,WAAWR,KAAK,OAAOqD,MAAM,oBAAoBM,UAAWC,IACzE,kBAACF,EAAA,EAAD,CAAQlD,KAAK,WAAWR,KAAK,WAAWqD,MAAM,WAAWM,UAAWC,O,+BAQtE,IAAD,OAIL,OAHAhD,QAAQC,IAAI,UAIR,yBAAKpD,UAAU,kBAGX,kBAACoG,EAAA,EAAD,CAAOpG,UAAU,aAAaG,MAAO,CAACkG,OAAO,iBAAiBC,QAAQ,YAAa/F,MAAM,OAAOH,SAAS,QAAQmG,SAAS,SAAYC,SAAUjH,KAAKC,MAAMiH,aAAa,SAACvC,GAAD,OAAY,EAAK1E,MAAMkH,MAAMxC,EAAO,EAAK1E,MAAMmD,YAClNpD,KAAK8B,gBAEN,kBAAC,IAAD,CAAMhC,GAAG,aAAaW,UAAU,iBAAhC,QAGA,4BAAQuC,KAAK,SAASvC,UAAU,wBAAhC,gB,GAjCIsB,cA6DTC,kBAAQ,KAAK,CAACmF,MNsDtB,SAAexC,EAAOvB,GAIzB,OAHAQ,QAAQC,IAAIc,GAGZ,sCAAO,WAAOhC,GAAP,eAAAC,EAAA,8EAGcC,IAAMQ,KAAK,gBAAiBsB,GAH1C,QAGE5B,EAHF,QAISG,OACJE,EAAQE,KAAK,cACbX,EAAS,CAACK,KAAMf,EAAYgB,QAASF,EAAIG,QAN9C,uDAUCP,EAAS,CAACK,KAAMb,EAAac,QAAS,CAACD,KAAK,eAAeS,MAAM,oCAVlE,0EAAP,mDAAM,KM1DKzB,CAAsBoF,YAAU,CAC3CC,SAhBJ,SAAkB1C,GAEd,IAAM2C,EAAO,GASb,OAPI3C,EAAOpD,WACP+F,EAAO/F,SAAS,+BAChBoD,EAAO4C,WACPD,EAAOC,SAAS,yBAIbD,GAMPE,KAAK,aAF4BJ,CAKlCvC,YAAW4B,KC5BCgB,G,2MAvCXpH,MAAM,CAACqH,WAAU,G,EAEjBC,iBAAmB,WACf,EAAKtD,SAAS,CACVqD,WAAW,K,EAInBE,kBAAoB,WAChB,EAAKvD,SAAS,CACVqD,WAAW,K,wEAIf,OACI,yBAAKjH,UAAU,mBAGX,yBAAKA,UAAU,UAAUG,MAAO,CAACiH,UAAU,SAE3C,yBAAKpH,UAAU,UAAUG,MAAO,CAACiH,UAAU,QAC3C,uCAIA,qDAKA,yBAAKpH,UAAU,UAAUG,MAAO,CAACiH,UAAU,MAAMd,QAAQ,cACzD,kBAAC,EAAD,Y,GAjCMhF,aCDhB+F,G,2MAEFzH,MAAO,CAAC6D,KAAO,I,wEAEL,IAAD,OACL,OACI,yBAAKzD,UAAU,OACf,yBAAKA,UAAU,iFAAiFG,MAAO,CAAC4F,UAAU,SAC9G,2BAAO/F,UAAU,oBAAoBsH,QAAQ,iBAA7C,8BAEA,2BAAQtH,UAAU,wBAAwB6D,YAAY,aAAYsB,GAAG,gBAAgBrB,SAAU,SAACC,GAAD,OAAW,EAAKH,SAAS,CAACH,KAAOM,EAAMC,OAAO/E,WAC7I,0BAAMkB,MAAO,CAACI,MAAM,WAAYhB,KAAKC,MAAMwD,MAAQzD,KAAKC,MAAMwD,MAAMA,MAAM,IAC1E,4BAAQhD,UAAU,uBAAuBiE,QAAS,kBAAM,EAAKzE,MAAMsD,SAAS,EAAKlD,MAAM6D,KAAK,EAAKjE,MAAMmD,WACnG,uBAAG3C,UAAU,kBAAb,iB,GAbIsB,aA0BTC,mBANf,SAAyB3B,GACrB,MAAO,CACHoD,MAAMpD,EAAMoD,QAImB,CAACF,YAAzBvB,CAAoC6C,YAAWiD,K,oBC/B/C,SAASE,GAAWxH,GAC/B,OAAGA,EAAQyH,UAEHzH,EAAQ0H,SAMD,aAFC,IAAIC,KAAK3H,EAAQyH,WAEEG,eALnB,IAAID,KAAK3H,EAAQyH,WACbG,aAOT,U,ICHTC,G,2MAEFhI,MAAM,CAACiI,IAAM,G,EAgDbC,YAAY,WACR,EAAKlE,SAAS,SAAChE,GAAW,MAAO,CAACiI,IAAIjI,EAAMiI,IAAK,KACjD,EAAKrI,MAAMuI,gBAAgB,EAAKvI,MAAMK,OAAO,EAAKD,MAAMiI,M,mFA/CxDtI,KAAKqE,SAAS,CAACiE,IAAI,M,+BAGd,IAAD,OACR,OAEI,kBAACG,GAAA,EAAQ1H,MAAT,KACI,kBAAC,KAAD,CAAQpB,GAAG,KAAK+I,UAAQ,GAAxB,YAGJ,6BAEI1I,KAAKC,MAAM0I,SAASC,IAAI,SAAChE,GACrB,OACI,kBAAC6D,GAAA,EAAD,KAEI,kBAACA,GAAA,EAAQI,OAAT,CAAgBzH,IAAKE,IAAKhC,KAAKsF,EAAQkE,MAAMzH,YAC7C,kBAACoH,GAAA,EAAQM,QAAT,KACI,kBAACN,GAAA,EAAQO,OAAT,CAAgBvI,UAAU,YAAYiE,QAAS,kBAAK,EAAKzE,MAAMsD,SAASqB,EAAQpB,KAAK,EAAKvD,MAAMmD,WAC3FwB,EAAQpB,MAEb,kBAACiF,GAAA,EAAQQ,SAAT,KACI,6BAAMjB,GAAWpD,KAErB,kBAAC6D,GAAA,EAAQS,KAAT,KACCtE,EAAQA,UAIb,yBAAKnE,UAAU,yBAM/B,6BACI,4BAAQiE,QAAS1E,KAAKuI,aAAtB,yB,GAzCiBxG,aAyDdC,eAAQ,KAAK,CAACwG,gBVsHtB,SAAyBlI,EAAOgI,GAEnC,6CAAO,WAAO3F,GAAP,eAAAC,EAAA,qEACaC,IAAMQ,KAAK,eAAe,CAAC/C,OAAQA,EAAOgI,IAAIA,IAD3D,OACGvF,EADH,OAEHJ,EAAS,CAACK,KAAKd,EAAYe,QAAQF,EAAIG,OAFpC,yCAAP,mDAAM,IUxHmCK,YAA9BvB,CAAyC6C,YAAWwD,KC7D7Dc,G,2MAEF9I,MAAO,CACH2D,KAAO,GACPoF,QAAQ,I,EAIZlC,aAAa,WACT,IAAMM,EAAK,IAAI6B,SAGf7B,EAAK8B,OAAO,YAAY,EAAKjJ,MAAM2D,MAElC,EAAK/D,MAAM8D,YAAYyD,I,wEAGlB,IAAD,OACL,OACI,yBAAK/G,UAAU,OACX,yBAAKA,UAAU,oEAAoEG,MAAO,CAAC4F,UAAU,SACjG,2BAAO/F,UAAU,oBAAoBsH,QAAQ,UAA7C,iBAGA,2BAAQvE,KAAK,YAAYR,KAAK,OAAOvC,UAAU,wBAAwBmF,GAAG,SAAShF,MAAO,CAACO,MAAM,SAASoD,SAAU,SAACC,GAAD,OAAW,EAAKH,SAAS,CAACL,KAAOQ,EAAMC,OAAO8E,MAAM,GAAIH,QAAQI,IAAIC,gBAAgBjF,EAAMC,OAAO8E,MAAM,SAC3N,yBAAK3I,MAAO,CAACO,MAAM,QAAQF,OAAO,SAAUG,IAAKpB,KAAKK,MAAM+I,UAC5D,4BAAQ3I,UAAU,uBAAuBiE,QAAS1E,KAAKkH,cACnD,uBAAGzG,UAAU,kBAAb,e,GA3BEsB,aAmCXC,eAAQ,KAAK,CAAC+B,eAAd/B,CAA4B6C,YAAWsE,KC3BhDO,G,2MAEFrJ,MAAM,CACFsJ,KAAK,G,EAiCTC,cAAgB,WACd,GAAG,EAAK3J,MAAM4J,MAAMlJ,OAAO,EAEvB,OAAO,yBAAKF,UAAU,gBACd,4CACA,2E,mFApCO,IAAD,OAGhBqJ,OAAOC,iBAAiB,SAAU,WASd,KAPZhE,SAASiE,KAAKC,WAAalE,SAASmE,gBAAgBD,YAGpDlE,SAASmE,gBAAgBC,aACzBpE,SAASmE,gBAAgBE,gBAIzB,EAAK/F,SAAS,SAAChE,GAAU,MAAO,CAACsJ,KAAKtJ,EAAMsJ,KAAK,KACjD,EAAK1J,MAAMoK,WAAW,EAAKhK,MAAMsJ,SAG1C3J,KAAKC,MAAMoK,WAAWrK,KAAKK,MAAMsJ,Q,6CAEZ,IAAD,OACnBG,OAAOQ,oBAAoB,SAAS,WAChC,EAAKjG,SAAS,CAACsF,KAAK,Q,+BAqBlB,IAAD,OACL,OAAG3J,KAAKC,MAAMsK,cACTxE,SAASiE,KAAKpJ,MAAO,wBAItB,6BACA,kBAAC,GAAD,MAIKZ,KAAK4J,gBAGN,4BACK5J,KAAKC,MAAM4J,MAAMjB,IAAI,SAACvF,GAEnB,OAEQ,yBAAK5C,UAAU,oBAAoBG,MAAO,CAACmG,QAAQ,OAAOlF,gBAAgB,UAAUV,MAAM,OAAQqJ,SAAS,eACvG,yBAAK/J,UAAU,YACX,6BACI,kBAAC,IAAD,CACIX,GACI,CAACM,SAAW,aACRC,MAAO,CACHE,MAAQ8C,EAAK9C,MACbC,QAAQ6C,EAAK7C,QACbF,OAAO+C,EAAKoH,IACZC,OAAOrH,EAAKqH,UAP5B,QAcA,kBAAC,IAAD,CAAMjK,UAAU,QACVX,GACI,CAACM,SAAW,eACRC,MAAO,CACHE,MAAQ8C,EAAK9C,MACbC,QAAQ6C,EAAK7C,QACbF,OAAO+C,EAAKoH,OAN9B,WAYJ,yBAAKhK,UAAU,QACVuH,GAAW3E,IAEhB,yBAAK5C,UAAU,yBAAyB4C,EAAK9C,OAM7C,yBAAKE,UAAU,8BACV4C,EAAKqH,OAAO9B,IAAI,SAAC+B,GACd,OAEA,yBAAK/J,MAAO,CAACO,MAAM,QAAQF,OAAO,QAAU8F,QAAQ,QAAQ3F,IAAKuJ,EAASrJ,IAAKhC,KAAKqL,EAAO,QAKnG,yBAAKlK,UAAU,cAAcG,MAAO,CAACM,aAAa,SAC7CmC,EAAK7C,SAGV,0BAAMC,UAAU,iBAEhB,uBAAGiE,QAAS,kBAAI,EAAKzE,MAAMyD,SAASL,EAAKoH,MAAMhK,UAAY4C,EAAKuH,MAAMC,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMsK,aAAahJ,WAAUZ,OAAS,EAAI,mBAAoB,6BAG/J0C,EAAKuH,MAAMjK,QAEhB,uBAAGmK,MAAM,iBACRzH,EAAKsF,SAAShI,OAAO,YAG1B,yBAAKF,UAAU,2BAOX,kBAACsK,EAAD,CAAgBzK,OAAQ+C,EAAKoH,MAC7B,kBAAC,GAAD,CAAgB9B,SAAUtF,EAAKsF,SAAUrI,OAAQ+C,EAAKoH,aAa/E,yBAAKhK,UAAU,8BAElB,yBAAKA,UAAU,kBAAkBW,IAAKE,IAAKhC,KAAK,eAChD,yBAAKmB,UAAU,aAAf,gB,GAxJYsB,aA4KTC,mBARf,SAAyB3B,GACrB,MAAO,CACHwJ,MAAMmB,OAAOrG,OAAOtE,EAAMwJ,OAC1BU,aAAalK,EAAMH,OAKY,CAACmK,WZnIjC,SAAoBV,GAEvB,6CAAO,WAAOhH,GAAP,eAAAC,EAAA,8EAEmBC,IAAMC,IAAI,cAAc6G,GAF3C,OAEO5G,EAFP,OAGCJ,EAAS,CAACK,KAAMd,EAAae,QAASF,EAAIG,OAH3C,gDAKCU,QAAQC,IAAR,MALD,uDAAP,mDAAM,IYiIyCH,WAASP,aAAWY,eAAxD/B,CAAsE0H,I,SCpL/EuB,G,YACF,WAAYhL,GAAQ,IAAD,8BACf,4CAAMA,KAQViH,aAAa,WACT,IAAMM,EAAK,IAAI6B,SAGf7B,EAAK8B,OAAO,QAAQ,EAAKjJ,MAAMkJ,OAE/B,EAAKtJ,MAAM8D,YAAYyD,IAbvB,EAAKnH,MAAM,CACPkJ,MAAM,IAHK,E,sEAkBT,IAAD,OACL,OAEQ,yBAAK9I,UAAU,8CAA8CG,MAAO,CAAC4F,UAAU,SAC3E,2BAAO/F,UAAU,oBAAoBsH,QAAQ,UAA7C,kBAGA,2BAAOvE,KAAK,YAAa0H,UAAQ,EAAElI,KAAK,OAAOvC,UAAU,wBAAwBmF,GAAG,SAAShF,MAAO,CAACO,MAAM,UAAUoD,SAAU,SAACC,GAC5H,EAAKH,SAAS,CAACkF,MAAM,aAAI/E,EAAMC,OAAO8E,SACtC,EAAKtJ,MAAMkL,gBAAX,aAA+B3G,EAAMC,OAAO8E,WAClD,yBAAK9I,UAAU,8BAITT,KAAKK,MAAMkJ,MAAMX,IAAI,SAAC5E,GAClB,OAEI,6BACR,yBAAKpD,MAAO,CAACO,MAAO,QAASF,OAAQ,SAAUG,IAAKoI,IAAIC,gBAAgBzF,c,GArCrEjC,aAmDZC,eAAQ,KAAK,CAAC+B,eAAd/B,CAA4B6C,YAAWoG,KChDhDG,G,2MAGN/K,MAAM,CACFgL,UAAU,I,EAeVF,gBAAgB,SAACT,GACjB9G,QAAQC,IAAI6G,GACRA,GACA,EAAKrG,SAAS,CAACgH,UAAWX,GAAS,kBAAM9G,QAAQC,IAAI,EAAKxD,MAAMgL,c,mFAdhErL,KAAKC,MAAMqL,WACP,CACI/K,MAAMP,KAAKC,MAAMsL,SAASlL,MAAME,MAChCC,QAAQR,KAAKC,MAAMsL,SAASlL,MAAMG,QAClCkK,OAAO1K,KAAKC,MAAMsL,SAASlL,MAAMqK,SAEzC9G,QAAQC,IAAI7D,KAAKC,MAAMsL,SAASlL,MAAMqK,U,sCAgBtC,OACI,6BACI,kBAAChE,EAAA,EAAD,CAAOlD,KAAK,QAAQR,KAAK,OAAQqD,MAAM,QAAQM,UAAWC,IAC1D,kBAACF,EAAA,EAAD,CAAOlD,KAAK,UAAUR,KAAK,OAAOqD,MAAM,UAAYM,UAAWC,O,+BAMjE,IAAD,OAET,OACI,yBAAKnG,UAAU,kBAEX,yBAAKG,MAAO,CAACC,SAAS,QAAQmG,SAAS,UACvC,kBAAC,GAAD,CAAcmE,gBAAiB,SAACxH,GAAD,OAAO,EAAKwH,gBAAgBxH,MAC3D,kBAACkD,EAAA,EAAD,CAAOpG,UAAU,aAAawG,SAAUjH,KAAKC,MAAMiH,aAAX,sCAAwB,WAAOvC,GAAP,eAAA/B,EAAA,4DACtD4E,EAAK,IAAI6B,SAIfzF,QAAQC,IAAI,EAAKxD,MAAMgL,WALqC,SAOtD,EAAKhL,MAAMgL,UAAUG,QAAU,SAACxH,GAAD,OAAUwD,EAAK8B,OAAO,YAAYtF,KAPX,OAS5DwD,EAAK8B,OAAO,SAASmC,KAAKC,UAAU/G,IACpC6C,EAAK8B,OAAO,SAAS,EAAKrJ,MAAMsL,SAASlL,MAAMC,QAI/C,EAAKL,MAAM0L,SAAS,EAAK1L,MAAMsL,SAASlL,MAAMC,OAAOqE,EAAO6C,EAAK,EAAKvH,MAAMmD,QAAQ,EAAKnD,MAAM2L,KAAKnB,KAdxC,yCAAxB,kCAAAzK,KAAA,iBAqBvCA,KAAK8B,gBAEP,kBAAC,IAAD,CAAMhC,GAAG,aAAaW,UAAU,iBAAhC,QAGC,4BAAQuC,KAAK,SAASvC,UAAU,wBAAhC,e,GAxEcsB,aAyGXC,mBAPf,SAAyB3B,GACrB,MAAO,CACHuL,KAAMvL,EAAMH,OAKmB,CAACyL,SdvFjC,SAAkBrL,EAAOqE,EAAO0G,EAAUjI,EAAQyI,GAErD,OADAjI,QAAQC,IAAIwH,GACZ,sCAAO,WAAO1I,GAAP,SAAAC,EAAA,qEACS6I,KAAKC,UAAUL,GADxB,8BAEaxI,IAAMQ,KAAK,aAAawI,EAAOR,GAF5C,cAIHjI,EAAQE,KAAK,cAJV,yCAAP,mDAAM,KcqFKtB,CAAoCoF,YAAU,CACzDC,SApBJ,SAAkB1C,GAEd,IAAM2C,EAAO,GAOd,OALI3C,EAAOpE,QACP+G,EAAO/G,MAAM,mBACboE,EAAOnE,UACP8G,EAAO9G,QAAQ,mBAEZ8G,GAYNE,KAAK,eAF0CJ,CAQhDvC,YAAWuG,M,8BCjFCpJ,eAAQ,KAAK,CAAC8B,qBAAd9B,CAlCE,SAAC/B,GAAU,IAAD,EACO6L,qBAAU,CACpCC,UAAS,EACTxL,MAAM,gBACNyL,QAAQ,gEACRC,QAAQ,CACJ,kBAAC,KAAOnL,OAAR,CACIuF,MAAM,SACN6F,eAAa,EACbxH,QAAS,kBAAKyH,OAElB,kBAAC,KAAOrL,OAAR,CACIuF,MAAM,gBACN+F,oBAAkB,EAClB1H,QAAS,WAAOzE,EAAM6D,kBAAkB7D,EAAMuD,MAAO2I,UAd1C,oBAChBE,EADgB,KACRF,EADQ,KAmBvB,OACI,6BACI,4BAAQzH,QAASyH,EAAeG,WAAS,eAAenM,WAAS,iBAC7D,uBAAIM,UAAU,kBAAd,iBACA,kBAAC,IAAD,CAAcmF,GAAG,kBAErB,kBAAC,KAAO2G,MAAUF,MClBxBG,G,4LAIExM,KAAKC,MAAMsD,SAASvD,KAAKC,MAAMwM,MAAMC,OAAOlJ,KAAKxD,KAAKC,MAAMmD,W,sCAIhD,IAAD,OACX,OAAGpD,KAAKC,MAAMsK,aACNvK,KAAKC,MAAMsK,aAAaoC,QAAQ9B,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMwM,MAAMC,OAAOlJ,OAAM7C,OAAS,EAC3F,uBAAIF,UAAU,kBAAd,iBAEFT,KAAKC,MAAMsK,aAAaqC,mBAAmB/B,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMwM,MAAMC,OAAOlJ,OAAM7C,OAAS,EAE3G,uBAAGF,UAAU,kBAAb,SAEA,uBAAGA,UAAU,kBAAb,cAIR,uD,yCAIQ,IAAD,OAEd,OAAGT,KAAKC,MAAMsK,aACPvK,KAAKC,MAAMsK,aAAaoC,QAAQ9B,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMwM,MAAMC,OAAOlJ,OAAM7C,OAAS,EAC1F,gBACHX,KAAKC,MAAMsK,aAAaqC,mBAAmB/B,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMwM,MAAMC,OAAOlJ,OAAM7C,OAAS,EAC9G,kBAEI,aAIR,kB,2CAEU,IAAD,OAChB,OAAGX,KAAKC,MAAMsK,aACPvK,KAAKC,MAAMsK,aAAaoC,QAAQ9B,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMwM,MAAMC,OAAOlJ,OAAM7C,OAAS,EAC1F,kBAAC,GAAD,CAAU6C,KAAMxD,KAAKC,MAAMwM,MAAMC,OAAOlJ,OAI/C,4BAAQ8I,WAAS,eAAenM,WAAUH,KAAK6M,mBAAoBnI,QAAS,kBAAK,EAAKzE,MAAM6D,kBAAkB,EAAK7D,MAAMwM,MAAMC,OAAOlJ,QACjIxD,KAAK8M,gBACN,kBAAC,IAAD,CAAclH,GAAG,kBAMtB,kB,+BAGD,IAAD,OACL,OAGI,yBAAKnF,UAAU,WAEVT,KAAK+M,qBAEN,kBAAC,IAAD,CAAMjN,GAAI,kBAAkBE,KAAKC,MAAMwM,MAAMC,OAAOlJ,MAApD,WAOA,kBAAC,GAAD,MACA,4BACKxD,KAAKC,MAAM+M,YAAYC,UAAUrE,IAAI,SAACvF,GAEnC,OACI,yBAAK5C,UAAU,QACX,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,QACVuH,GAAW3E,IAEhB,0BAAM5C,UAAU,4BAA4B4C,EAAK9C,OACjD,2BACK8C,EAAK7C,SAGV,sCACa6C,EAAKuH,MAAMjK,SAG5B,yBAAKF,UAAU,eACX,4BAAQiE,QAAS,kBAAI,EAAKzE,MAAMyD,SAASL,EAAKoH,OAA9C,QAIA,kBAACM,EAAD,CAAgBzK,OAAQ+C,EAAKoH,MAC7B,kBAAC,GAAD,CAAgB9B,SAAUtF,EAAKsF,SAAUrI,OAAQ+C,EAAKoH,kB,GAnG1E1I,aAsHTC,mBAPf,SAAyB3B,GACrB,MAAO,CACH2M,YAAYhC,OAAOrG,OAAOtE,EAAM6M,MAChC3C,aAAalK,EAAMH,OAIY,CAACwD,WAASH,WAASO,qBAA3C9B,CAA+D6C,YAAW2H,KC1HnFW,G,wLAME,OACI,6BACI,yBAAKvM,MAAO,CAACK,OAAO,SAAUR,UAAU,kBAAkBW,IAAKE,IAAKhC,KAAK,cAEzE,kBAACoH,EAAA,EAAD,CAAOlD,KAAK,WAAWR,KAAK,OAAOqD,MAAM,WAAWM,UAAWC,IAC/D,kBAACF,EAAA,EAAD,CAAOlD,KAAK,QAAQR,KAAK,QAAQqD,MAAM,cAASM,UAAWC,IAC3D,kBAACF,EAAA,EAAD,CAAOlD,KAAK,WAAWR,KAAK,WAAWqD,MAAM,WAAWM,UAAWC,IACnE,kBAACF,EAAA,EAAD,CAAOlD,KAAK,cAAcR,KAAK,WAAWqD,MAAM,mBAAmBM,UAAWC,O,+BAOhF,IAAD,OAEL,OACI,yBAAKnG,UAAU,kBAEX,kBAACoG,EAAA,EAAD,CAAMpG,UAAU,aAAaG,MAAO,CAACkG,OAAO,iBAAiBC,QAAQ,YAAa/F,MAAM,OAAOoM,UAAU,WAAWvM,SAAS,QAAQmG,SAAS,SAAWC,SAAUjH,KAAKC,MAAMiH,aAAa,SAACvC,GAAD,OAAY,EAAK1E,MAAMoN,OAAO1I,EAAO,EAAK1E,MAAMmD,YACtOpD,KAAK8B,gBAEN,kBAAC,IAAD,CAAMhC,GAAG,IAAIW,UAAU,iBAAvB,QAGA,4BAAQuC,KAAK,SAASvC,UAAU,wBAAhC,iB,GA/BKsB,aAmEVC,mBAAQ,KAAK,CAACqL,OjBsBtB,SAAgB1I,EAAOvB,GAI1B,OAHAQ,QAAQC,IAAIc,GAGZ,sCAAO,WAAOhC,GAAP,eAAAC,EAAA,8EAKaC,IAAMQ,KAAK,eAAgBsB,GALxC,OAKC5B,EALD,uFAUEA,EAAIG,KAMLP,EAAS,CAACK,KAAMb,EAAac,QAASF,EAAIG,QAL1CP,EAAS,CAACK,KAAMP,EAAcQ,QAAS,CAACD,KAAK,kBAE7CI,EAAQE,KAAK,iBAbd,uDAAP,mDAAM,KiB1BKtB,CAAuBoF,YAAU,CAC5CC,SAxBJ,SAAkB1C,EAAO1E,GAErB,IAAMqH,EAAO,GAiBb,OAbI3C,EAAOpD,WACP+F,EAAO/F,SAAS,uBAChBoD,EAAO2I,QACPhG,EAAOgG,MAAM,sBACb3I,EAAO4C,WACPD,EAAOC,SAAS,uBAChB5C,EAAO4I,cACPjG,EAAOiG,YAAY,sBACpB5I,EAAO4I,cAAe5I,EAAO4C,WAC5BD,EAAOiG,YAAY,gCAIhBjG,GAMPE,KAAK,cAF6BJ,CAKnCvC,YAAWsI,MCzDCnL,mBAAQ,KAAK,CAACmB,cAAdnB,CAlBf,SAAsB/B,GAIlB,OACI,6BACI,+BAAQA,EAAMsL,SAASlL,MAAME,OAC7B,2BAAIN,EAAMsL,SAASlL,MAAMG,SACzB,4BAAQC,UAAU,YAAYiE,QAAS,kBAAIzE,EAAMkD,WAAWlD,EAAMsL,SAASlL,MAAMC,OAAOL,EAAMmD,WAA9F,UAIA,kBAAC,IAAD,CAAMtD,GAAG,cAAT,YCTN0N,G,iLAGQ,IACDC,EADA,OAOL,OAJKA,EADFzN,KAAKC,MAAMwN,eACMzN,KAAKC,MAAMwN,eAAe/M,uBAE3B,GAGf,6BAEI,wBAAIE,MAAO,CAAC4F,UAAU,SACjBiH,EAAeR,UAAUrE,IAAI,SAAC8E,GAE3B,OAEQ,yBAAKjN,UAAU,uBACX,yBAAKA,UAAU,WACX,yBAAKA,UAAU,8BAA8BW,IAAKE,IAAKhC,KAAKoO,EAAQrM,YAChE,yBAAKZ,UAAU,mBAAmBiE,QAAS,kBAAK,EAAKzE,MAAMsD,SAASmK,EAAQnM,SAAS,EAAKtB,MAAMmD,WAC3FsK,EAAQnM,UAGjB,yBAAKd,UAAU,kBACX,yBAAKA,UAAU,wBAAwBiE,QAAS,kBAAI,EAAKzE,MAAM0N,oBAAoBD,EAAQjD,OAA3F,WACA,yBAAKhK,UAAU,uBAAf,sB,GA3BfsB,aA4DdC,mBATf,SAAyB3B,GAGrB,MAAM,CAEFoN,eAAepN,EAAMH,OAIU,CAACyN,oBnByIjC,SAA6B9B,GAGhC,6CAAO,WAAOlJ,GAAP,eAAAC,EAAA,8EAEmBC,IAAMQ,KAAK,cAAe,CAACwI,OAAQA,IAFtD,OAEO9I,EAFP,OAGCJ,EAAS,CAACK,KAAMf,EAAYgB,QAASF,EAAIG,OAH1C,gDAKCU,QAAQC,IAAR,MALD,uDAAP,mDAAM,ImB5IkDN,YAA7CvB,CAAwDwL,IC9DjEI,G,iLAGQ,IACDjB,EADA,OAOL,OAJIA,EADD3M,KAAKC,MAAM0M,QACF3M,KAAKC,MAAM0M,QAAQA,QAEnB,GAGR,6BAEI,wBAAI/L,MAAO,CAAC4F,UAAU,SACjBmG,EAAQM,UAAUrE,IAAI,SAACiF,GAEpB,OACI,yBAAKpN,UAAU,qBACX,yBAAKA,UAAU,qBAAqBiE,QAAS,kBAAK,EAAKzE,MAAMsD,SAASsK,EAAOtM,SAAS,EAAKtB,MAAMmD,WAC7F,yBAAK3C,UAAU,kBAAkBW,IAAKE,IAAKhC,KAAKuO,EAAOxM,YAE/C,yBAAKZ,UAAU,yBACVoN,EAAOtM,oB,GAtBlCQ,aAkDPC,mBATf,SAAyB3B,GAGrB,MAAM,CAEFsM,QAAQtM,EAAMH,OAIiB,CAACqD,YAAzBvB,CAAoC4L,IChD7CE,G,2MAEFzN,MAAO,CAAC6D,KAAO,I,EAcf6J,eAAiB,WACb,EAAKC,YAAYC,eAAe,CAAEC,SAAU,Y,EAchDpM,cAAgB,WAGZ,OAFA8B,QAAQC,IAAI,EAAK5D,MAAMkO,OAEpB,EAAKlO,MAAMkO,OAAS,EAAKlO,MAAMkO,MAAMC,UAAY,EAAKnO,MAAMsK,aAEvD,yBAAK9J,UAAU,iCAGf,yBAAMA,UAAU,yBACZ,yBAAKA,UAAU,sBAAsBiE,QAAS,kBAAK,EAAKzE,MAAMsD,SAAS,EAAKtD,MAAMwM,MAAMC,OAAOlJ,KAAK,EAAKvD,MAAMmD,UAAWxC,MAAO,CAACiB,gBAAgB,OAAQuL,UAAU,aAAajM,MAAM,SACnL,kBAAC,IAAD,CAAOV,UAAU,sBACb,yBAAKG,MAAO,CAACO,MAAM,OAAOF,OAAO,QAASR,UAAU,wBAAwBW,IAAK,EAAKnB,MAAMkO,MAAME,OAAO,GAAGhN,UAAaC,IAAKhC,KAAK,EAAKW,MAAMkO,MAAME,OAAO,GAAGhN,UAAW,OAS7K,EAAKpB,MAAMkO,MAAMC,SAASxF,IAAI,SAAC0F,GAC3B,OAEI,kBAAC,IAAM3M,SAAP,KACA,yBAAKf,MAAQ0N,EAAKC,UAAU,EAAKtO,MAAMsK,aAAaE,IAAM,CAAC+D,OAAO,YAAYpB,UAAU,aAAapG,SAAS,MAAOwD,SAAS,cAAe,CAACgE,OAAO,YAAYpB,UAAU,WAAWpG,SAAS,MAAOwD,SAAS,cAAe/J,UAAY6N,EAAKC,UAAU,EAAKtO,MAAMsK,aAAaE,IAAO,4BAA8B,0BAEhT6D,EAAKtC,SAEP,kCAUjB,mB,EAIf7H,aAAc,WACP,EAAK9D,MAAM6D,OAEV,EAAKjE,MAAMwO,YAAY,EAAKxO,MAAMsK,aAAaE,IAAI,EAAKxK,MAAMwM,MAAMC,OAAOlJ,KAAM,EAAKnD,MAAM6D,MAC5F,EAAKG,SAAS,CAACH,KAAM,O,mFAzER,IAAD,QAGX,sCAAE,sBAAAtB,EAAA,8EAAqB,EAAK3C,MAAMyC,aAAhC,yCAAF,qDACLgM,GAAIC,KACA,WAAO,EAAK1O,MAAM2O,WAAW,EAAK3O,MAAMsK,aAAaE,IAAI,EAAKxK,MAAMwM,MAAMC,OAAOlJ,MACrF,EAAKuK,qB,yCAWUc,EAAWC,EAAWC,GACjC/O,KAAKC,MAAMsK,cAAiBkB,KAAKC,UAAUmD,EAAUV,SAAS1C,KAAKC,UAAU1L,KAAKC,MAAMkO,QAExFnO,KAAK+N,mB,+BAwDH,IAAD,OACL,OACI,6BAGI,yBAAKnN,MAAO,CAACM,aAAa,UAErBlB,KAAK8B,gBAFV,KAOA,yBAAKlB,MAAO,CAAEoO,MAAM,OAAQC,MAAO,QAC9B1J,IAAK,SAAC2J,GAAS,EAAKlB,YAAckB,KAEvC,yBAAKzO,UAAU,OACf,yBAAMA,UAAU,qDAAqDmF,GAAG,UACxE,8BAAWlG,MAAOM,KAAKK,MAAM6D,KAAMzD,UAAU,wBAAyB8D,SAAU,SAACC,GAAD,OAAW,EAAKH,SAAS,CAACH,KAAOM,EAAMC,OAAO/E,WAC9H,4BAAQe,UAAU,uBAAuBiE,QAAS1E,KAAKmE,cAC9C,uBAAG1D,UAAU,kBAAb,gB,GAnGNsB,aAwHJC,mBAXf,SAAyB3B,GAGrB,OADAuD,QAAQC,IAAIxD,EAAM8N,OACX,CACH5D,aAAalK,EAAMH,KAEnBiO,MAAO9N,EAAM8N,QAKkB,CAACS,WrBuGjC,SAAoBO,EAAK3L,GAC5B,6CAAO,WAAOb,GAAP,SAAAC,EAAA,qDAEHwM,GAAOC,KAAK,eAAgB,CAACF,KAAMA,EAAM3L,KAAMA,IAC/C4L,GAAOE,GAAG,eAAe,SAAChB,GACtB3L,EAAS,CAACK,KAAKZ,EAAYa,QAAQqL,MAJpC,yCAAP,mDAAM,IqBxGyCG,YrBmH5C,SAAqBU,EAAK3L,EAAKwI,GAElC,6CAAO,WAAOrJ,GAAP,SAAAC,EAAA,qDAEHwM,GAAOC,KAAK,eAAgB,CAACF,KAAMA,EAAM3L,KAAMA,EAAKwI,QAAQA,IAC5DoD,GAAOE,GAAG,eAAe,SAAChB,GAEtB3L,EAAS,CAACK,KAAKR,EAAaS,QAAQqL,IAEpCc,GAAOG,IAAI,kBAPZ,yCAAP,mDAAM,IqBrHqDhM,WAASb,aAAzDV,CAAqE6C,YAAWiJ,KC3HzF0B,G,2MAEFnP,MAAM,CAAC6D,KAAK,GAAGuL,YAAW,EAAMC,KAAK,G,EAErCvL,aAAc,WACP,EAAK9D,MAAM6D,OAEV,EAAKjE,MAAM0P,YAAa,EAAKtP,MAAM6D,KAAK,EAAKjE,MAAMmD,SACnD,EAAKiB,SAAS,SAAChE,GAAU,MAAO,CAACoP,YAAW,EAAKC,KAAK,MAAM,EAAKE,Y,EAKzEA,SAAU,WACF,EAAKC,SAASC,YAAY,WACtB,EAAKzL,SAAS,SAAAhE,GAAU,OAAOA,EAAMqP,KAAK,EAAG,CAACA,KAAOrP,EAAMqP,KAAK,GAAG,CAACA,KAAK,EAAED,YAAW,MAExF,M,wEAKA,IAAD,OACL,OAEI,6BACI,kGACJ,2BAAOzM,KAAK,QAAQuB,SAAU,SAACC,GAAD,OAAW,EAAKH,SAAS,CAACH,KAAKM,EAAMC,OAAO/E,WACtE,4BAAQe,UAAU,uBAAuBsP,SAAU/P,KAAKK,MAAMoP,WAAY/K,QAAS1E,KAAKmE,cACpF,uBAAG1D,UAAU,kBAAb,SAEJ,6BACKT,KAAKK,MAAMqP,KAAK,EAAIM,KAAKC,MAAMjQ,KAAKK,MAAMqP,KAAK,IAAI,MAAM1P,KAAKK,MAAMqP,KAAK,GAAI,S,GAhC1E3N,aAwCTC,eAAQ,KAAK,CAAC2N,YtBsGtB,SAAqBjQ,EAAM0D,GAE9B,6CAAO,WAAOT,GAAP,eAAAC,EAAA,8EAKaC,IAAMQ,KAAK,mBAAoB,CAACiK,MAAM5N,IALnD,OAKCqD,EALD,uFAUEA,EAAIG,KAMLP,EAAS,CAACK,KAAMb,EAAac,QAASF,EAAIG,QAL1CP,EAAS,CAACK,KAAMP,EAAcQ,QAAS,CAACD,KAAK,kBAE7CI,EAAQE,KAAK,iBAbd,uDAAP,mDAAM,KsBxGKtB,CAA4B6C,YAAW2K,KCxChDU,G,iLAKE,OACI,yBAAKzP,UAAU,kBACX,6BACCT,KAAKC,MAAM+L,QAAShM,KAAKC,MAAM+L,QAAQ,qBAClB,eAArBhM,KAAKC,MAAMkQ,QAAwB,kBAAC,GAAD,MAAa,S,GATvCpO,aA4BXC,mBAZf,SAAyB3B,GAErB,OADAuD,QAAQC,IAAIxD,GACTA,EAAM+P,YACE,CACHpE,QAAS3L,EAAM+P,YAAYpE,QAC3BmE,QAAS9P,EAAM+P,YAAYD,SAI5B,IAGInO,CAAyBkO,ICnBzBG,G,iLARP,OACI,6BACJ,kBAAC,GAAD,W,GALctO,a,qBCKhBuO,G,2MAOF1G,cAAgB,WACZ,GAAG,EAAK3J,MAAMsK,aAAa4D,MAAMxN,OAAO,EAEpC,OAAO,yBAAKF,UAAU,gBACd,4CACA,2E,mFARZT,KAAKC,MAAMsQ,qB,+BAcL,IAAD,OACL,OAAGvQ,KAAKC,MAAMsK,aAIN,yBAAK9J,UAAU,WAIVT,KAAK4J,gBAGN,4BACK5J,KAAKC,MAAMsK,aAAa4D,MAAMlB,UAAUrE,IAAK,SAACoD,GAC3C,IAAIwE,EAAO,CAAC,CAACjP,SAAS,KAMtB,OALGyK,EAAQqC,SACNmC,EAAQxE,EAAQqC,OAAOxD,OAAO,SAACe,GAAD,OAAWA,EAAKnB,MAAM,EAAKxK,MAAMsK,aAAaE,OAK7E,wBAAIjL,IAAKwM,EAAQvB,KACjB,yBAAMhK,UAAU,QACZ,yBAAKA,UAAU,uBACX,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,2BACX,kBAAC,IAAD,CAAMX,GAAI,kBAAkB0Q,EAAO,GAAGjP,SAAUd,UAAU,4BAA4B+P,EAAO,GAAGjP,WAKpG,yBAAKd,UAAU,wBAoB5C,iD,GArEWsB,aAoFXC,mBAPf,SAAyB3B,GACrB,MAAO,CACHkK,aAAalK,EAAMH,OAKY,CAACqQ,iBzB8HjC,WACH,6CAAO,WAAO5N,GAAP,eAAAC,EAAA,8EAGmBC,IAAMC,IAAI,iBAH7B,OAGOC,EAHP,OAICJ,EAAS,CAACK,KAAMf,EAAYgB,QAASF,EAAIG,OAJ1C,gDAMCU,QAAQC,IAAR,MAND,uDAAP,mDAAM,KyB/HK7B,CAA4CsO,ICjFrDG,G,2MAOF7G,cAAgB,WACd,GAAG,EAAK3J,MAAM4J,MAAMlJ,OAAO,EAEvB,OAAO,yBAAKF,UAAU,gBACd,uCACA,2E,mFARXT,KAAKC,MAAMyQ,c,+BAcJ,IAAD,OACL,OAAG1Q,KAAKC,MAAMsK,cACTxE,SAASiE,KAAKpJ,MAAO,wBAItB,yBAAKH,UAAU,IACf,kBAAC,GAAD,MAIKT,KAAK4J,gBAGN,4BACK5J,KAAKC,MAAM4J,MAAMoD,UAAUrE,IAAI,SAACvF,GAE7B,OAEQ,yBAAK5C,UAAU,oBAAoBG,MAAO,CAACmG,QAAQ,OAAOlF,gBAAgB,UAAUV,MAAM,OAAQqJ,SAAS,eACvG,yBAAK/J,UAAU,YAEX,yBAAKA,UAAU,QACVuH,GAAW3E,IAEhB,yBAAK5C,UAAU,yBAAyB4C,EAAK9C,OAO7C,yBAAKE,UAAU,cAAcG,MAAO,CAACM,aAAa,SAC7CmC,EAAK7C,SAGV,0BAAMC,UAAU,iBAEhB,uBAAGiE,QAAS,kBAAI,EAAKzE,MAAMyD,SAASL,EAAKoH,MAAMhK,UAAY4C,EAAKuH,MAAMC,OAAO,SAAAlH,GAAC,OAAIA,EAAEpC,WAAa,EAAKtB,MAAMsK,aAAahJ,WAAUZ,OAAS,EAAI,mBAAoB,6BAG/J0C,EAAKuH,MAAMjK,QAEhB,uBAAGmK,MAAM,iBACRzH,EAAKsF,SAAShI,OAAO,YAG1B,yBAAKF,UAAU,2BAOX,kBAACsK,EAAD,CAAgBzK,OAAQ+C,EAAKoH,MAC7B,kBAAC,GAAD,CAAgB9B,SAAUtF,EAAKsF,SAAUrI,OAAQ+C,EAAKoH,aAa/E,yBAAKhK,UAAU,8BAElB,yBAAKA,UAAU,kBAAkBW,IAAKE,IAAKhC,KAAK,eAChD,yBAAKmB,UAAU,aAAf,gB,GAzFOsB,aA6GJC,mBARf,SAAyB3B,GACrB,MAAO,CACHwJ,MAAMmB,OAAOrG,OAAOtE,EAAMsQ,MAC1BpG,aAAalK,EAAMH,OAKY,CAACwQ,U1BtDjC,WAEH,6CAAO,WAAO/N,GAAP,eAAAC,EAAA,8EAImBC,IAAMC,IAAI,aAJ7B,OAIOC,EAJP,OAKCJ,EAAS,CAACK,KAAMT,EAAYU,QAASF,EAAIG,OAL1C,gDAOCU,QAAQC,IAAR,MAPD,uDAAP,mDAAM,I0BoDwCH,YAAnC1B,CAA8CyO,IC/FvDG,G,4LAKE5Q,KAAKC,MAAMyC,c,+BAQX,OACI,6BAEI,kBAAC,IAAD,KACI,6BAGI,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOmO,OAAK,EAACC,KAAK,IAAInK,UAAWc,KACjC,kBAAC,IAAD,CAAOoJ,OAAK,EAACC,KAAK,aAAanK,UAAW+C,KAC1C,kBAAC,IAAD,CAAOmH,OAAK,EAACC,KAAK,QAAQnK,UAAW8J,KAErC,kBAAC,IAAD,CAAOI,OAAK,EAACC,KAAK,YAAYnK,UAAWyE,KACzC,kBAAC,IAAD,CAAQ0F,KAAK,WAAWnK,UAAWwG,KACnC,kBAAC,IAAD,CAAQ2D,KAAK,UAAUnK,UAAWF,IAClC,kBAAC,IAAD,CAAOoK,OAAK,EAACC,KAAK,aAAanK,UAAWyE,KAC1C,kBAAC,IAAD,CAAOyF,OAAK,EAACC,KAAK,eAAenK,UAAWoK,KAC5C,kBAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,iBAAiBnK,UAAW6G,KAC9C,kBAAC,IAAD,CAAOqD,OAAK,EAACC,KAAK,gBAAgBnK,UAAWiH,KAC7C,kBAAC,IAAD,CAAOiD,OAAK,EAACC,KAAK,YAAYnK,UAAWqK,KACzC,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,YAAYnK,UAAW2J,KACzC,kBAAC,IAAD,CAAOO,OAAK,EAACC,KAAK,eAAenK,UAAWuJ,KAQ5C,kBAAC,IAAD,CAAQW,OAAK,EAACC,KAAK,eAAenK,UAAW6F,KAC7C,kBAAC,IAAD,CAAQqE,OAAK,EAACC,KAAK,uBAAuBnK,UAAWmH,Y,GA3C3D/L,aAyDHC,eAAQ,KAAK,CAACU,aAAdV,CAA0B4O,I,SCvErBK,QACW,cAA7BnH,OAAOyB,SAAS2F,UAEe,UAA7BpH,OAAOyB,SAAS2F,UAEhBpH,OAAOyB,SAAS2F,SAASzE,MACvB,2D,87DCPS0E,oBAAgB,CAC5BjR,KCVY,WAAyC,IAApBG,EAAmB,uDAAb,KAAK+Q,EAAQ,uCAEnD,OAAQA,EAAOpO,MAGX,KAAKf,EACD,OAAOmP,EAAOnO,UAAW,EAC7B,QAAY,OAAO5C,IDIxBmH,KAAK6J,KACLxH,MEXY,WAAuC,IAAlBxJ,EAAiB,uDAAX,GAAGiR,EAAQ,uCAEjD,OAAQA,EAAQtO,MAGZ,KAAKV,EACD,OAAO,GAAP,GAAWjC,EAAX,gBAAkBiR,EAAQrO,QAAQwH,IAAlC,MAA2CpK,EAAMiR,EAAQrO,QAAQwH,KAAjE,CAAsEG,MAAM0G,EAAQrO,QAAQ2H,UAEhG,KAAKvI,EAGD,OAAO,GAAP,GAAWhC,EAAX,gBAAkBiR,EAAQrO,QAAQwH,IAAK6G,EAAQrO,UAEnD,KAAKf,EACG,OAAO,GAAP,GAAWqP,KAAEC,QAAQF,EAAQrO,QAAQ,OAArC,GAA+C5C,GAGvD,QACI,OAAOA,IFNhB6M,KGZY,WAA2C,IAAlB7M,EAAiB,uDAAX,GAAGiR,EAAQ,uCAErD,OAAQA,EAAQtO,MAEZ,KAAKX,EAGD,OAAO,MAAIhC,EAAX,gBAAkBiR,EAAQrO,QAAQwH,IAAK6G,EAAQrO,UAEnD,KAAKf,EACD,OAAO,MAAIqP,KAAEC,QAAQF,EAAQrO,QAAQ,QACrC,QACA,OAAO5C,IHChBoD,MIbY,WAA0C,IAApBpD,EAAmB,uDAAb,KAAK+Q,EAAQ,uCAEpD,OAAQA,EAAOpO,MAGX,KAAKb,EAED,GAAGiP,EAAOnO,QAAS,CAEf,GAA4B,2BAAxBmO,EAAOnO,QAAQD,KACf,MAAM,IAAIyO,KAAgB,CACtBlQ,SAAU6P,EAAOnO,QAAQQ,QAG1B,GAA4B,wBAAxB2N,EAAOnO,QAAQD,KAEtB,MAAM,IAAIyO,KAAgB,CACtBnE,MAAO8D,EAAOnO,QAAQQ,QAEvB,GAA4B,iBAAxB2N,EAAOnO,QAAQD,KAEtB,MAAM,IAAIyO,KAAgB,CACtBlQ,SAAU6P,EAAOnO,QAAQQ,QAE1B,MAA4B,mBAAxB2N,EAAOnO,QAAQD,KAEhB,CAACS,MAAM2N,EAAOnO,QAAQQ,OAGrB,KAGX,OAAO,KAQf,QAAY,OAAOpD,IJ1BxB8N,MKfY,WAAuC,IAAlB9N,EAAiB,uDAAX,GAAGiR,EAAQ,uCAEjD,OAAQA,EAAQtO,MAEZ,KAAKZ,EACD,OAAOkP,EAAQrO,QAEnB,KAAKT,EACD,GAAGnC,EAAO,CACN,IAAIqO,EAAC,aAAOrO,EAAM+N,UAElB,OADAM,EAAEpL,KAAKgO,EAAQrO,QAAQmL,U,wVAChB,IAAI/N,EAAX,CAAkB+N,SAAUM,IAEhC,OAAQ4C,EAAQrO,QAGpB,QACI,OAAO5C,ILDhBsQ,KMfY,WAAuC,IAAlBtQ,EAAiB,uDAAX,GAAGiR,EAAQ,uCAEjD,OAAQA,EAAQtO,MAIZ,KAAKV,EACD,OAAO,MAAIjC,EAAX,gBAAkBiR,EAAQrO,QAAQwH,IAAlC,MAA2CpK,EAAMiR,EAAQrO,QAAQwH,KAAjE,CAAsEG,MAAM0G,EAAQrO,QAAQ2H,UAEhG,KAAKvI,EAGD,OAAO,MAAIhC,EAAX,gBAAkBiR,EAAQrO,QAAQwH,IAAK6G,EAAQrO,UAGnD,KAAKV,EACG,OAAO,MAAIgP,KAAEC,QAAQF,EAAQrO,QAAQ,QAG7C,QACI,OAAO5C,INJhB+P,YOdY,WAAgD,IAApB/P,EAAmB,uDAAb,KAAK+Q,EAAQ,uCAE1D,OAAQA,EAAOpO,MAGX,KAAKP,EAED,GAAI2O,EAAOnO,SAGkB,iBAAtBmO,EAAOnO,QAAQD,KACd,MAAQ,CAACgJ,QAAQ,8CACjBmE,QAAQ,cAUpB,QACI,OAAO9P,M,4DC5BnB,sCAkBO,IAAM+O,GAAQsC,KAAepQ,IAAKhC,MAEnCqS,GAAgB,CAClBnS,IAAK,OACLoS,aACAC,UAAW,CAAC,uBAEVC,GAAmBC,aAAeJ,GAAeK,IAEjDC,GAAMC,aAAYJ,GAAiB,GAAGK,aAAgBC,OACxDC,GAAYC,aAAaL,IAC7BlN,IAASwN,OAGL,kBAAC,IAAD,CAAWN,MAAOA,IACf,kBAAC,KAAD,CAAaO,QAAS,KAAMH,UAAWA,IAClC,kBAAC,GAAD,QAGRtM,SAASC,eAAe,ST4FtB,kBAAmByM,WACrBA,UAAUC,cAAcC,MAAMhE,KAAK,SAAAiE,GACjCA,EAAaC,gB","file":"static/js/main.7084b881.chunk.js","sourcesContent":["if(process.env.NODE_ENV === 'production'){\r\n    module.exports={\r\n        host:'/'\r\n    }\r\n}else{\r\n    module.exports={\r\n        host:'http://localhost:5000/'\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Link} from \"react-router-dom\";\r\nimport ReactToolTip from 'react-tooltip';\r\n//import DropDown from \"./general/DropDown\";\r\n//import {Dropdown} from \"semantic-ui-react\";\r\nimport {Dropdown,Button} from \"semantic-ui-react\";\r\nimport keys from '../keys'\r\n\r\nconst dropDownOptions=[\r\n    {\r\n        key:'logout',\r\n        text:'logout',\r\n        value:'logout',\r\n        as:'a',\r\n        href:'/api/logout'\r\n\r\n    },{\r\n    key:'add',\r\n        text:'setting',\r\n        value:'setting',\r\n        as:Link,\r\n        to:'/settings'\r\n    }\r\n]\r\nclass Header extends Component{\r\n\r\n\r\n\r\n    renderContent() {\r\n\r\n\r\n        switch (this.props.auth) {\r\n\r\n            case null :\r\n                return;\r\n            case false :\r\n                return [\r\n                    <li key='1'><a href=\"/login/google/oauth\"> login with google </a></li>,\r\n                    <li key='2'><Link to='/sign_up' >\r\n                        Sign Up\r\n                    </Link>\r\n                    </li>,\r\n                    <li key='3'><Link to='/log_in'>login</Link></li>\r\n\r\n\r\n\r\n                ];\r\n\r\n            default :\r\n                return [\r\n                    <li key='4'>        <ReactToolTip/>                    </li>,\r\n\r\n\r\n\r\n                    <li key='5'>\r\n\r\n                        <Link  data-tip=\"create new post\"\r\n                            to={{\r\n                                pathname: \"/post/new\",\r\n                                state :{\r\n                                    postId: '',\r\n                                    title:'',\r\n                                    content:''\r\n                                }\r\n                            }}\r\n                        >\r\n\r\n                            <i className=\"material-icons\">create</i>\r\n\r\n                        </Link>\r\n\r\n                    </li>,\r\n\r\n                    <li key='6'>\r\n                        <Link  data-tip=\"friend requests\" to='/user/requests' className='collection-item'>\r\n                            friend requests\r\n                            <span className='new badge'>{this.props.auth.friendRequestsReceived.length}</span>\r\n                        </Link>\r\n                    </li>,\r\n\r\n                    <li key='7'>\r\n                        <Link  data-tip=\"friends\"  to='/user/friends' >\r\n                            <span >friends</span>\r\n                        </Link>\r\n                    </li>,\r\n                    <li key='8'>\r\n                        <Link  data-tip=\"messages\"  to='/messages' >\r\n                            messages\r\n                        </Link>\r\n                    </li>,\r\n\r\n                        /*<DropDown style ={{zIndex:10}} main={{title:'settings'}} list={[{title:'logout',aLink:'/api/logout'},{title:'add friend',link:'/'}]}>*/\r\n                    <li key='9'>\r\n                        <div className='left' style={{minWidth:'80px'}}>\r\n                            <Button.Group color='teal' style={{height:'9.4vh',marginBottom:'0'}} >\r\n                                <Button>\r\n                            <img style={{width:'50px',height:'50px'}} className='circle responsive-img' src={this.props.auth.imageName ?  keys.host+this.props.auth.imageName: ''}/>\r\n                            {this.props.auth.username}\r\n                                </Button>\r\n\r\n                                <Dropdown className='button icon' floating  trigger={<React.Fragment />} options={dropDownOptions}/>\r\n\r\n                            </Button.Group>\r\n                        </div>\r\n                    </li>\r\n\r\n\r\n                ];\r\n\r\n        }\r\n    }\r\n    render() {\r\n        return(\r\n            <nav >\r\n            <div className=\"nav-wrapper\" style={{backgroundColor:'orange' }}>\r\n                <Link to={this.props.auth ? '/dashboard' : '/'}  className=\" left brand-logo \">\r\n                    <img style={{height:'9.55vh'}} className='ui image medium' src={keys.host+'logo1.png'}/>\r\n\r\n                </Link>\r\n                <ul className=\"right\">\r\n                    {this.renderContent()}\r\n\r\n\r\n                </ul>\r\n\r\n\r\n            </div>\r\n            </nav>\r\n        );\r\n    }\r\n\r\n\r\n}\r\nfunction mapStateToProps(state){\r\n\r\n\r\n    return{\r\n\r\n        auth:state.auth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","\r\nexport const FETCH_USER ='fetch_user';\r\nexport const FETCH_POSTS ='fetch_posts';\r\nexport const FIND_USER='find_user';\r\nexport const SIGN_UP='sign_up';\r\nexport const CATCH_ERROR=\"catch_error\";\r\nexport const FETCH_CHATS= \"fetch_chats\";\r\nexport const FETCH_MESSAGES=\"fetch_messages\";\r\nexport const FETCH_POST=\"fetch_post\";\r\nexport const UPDATE_LIKES=\"update_likes\";\r\nexport const FETCH_FEED=\"fetch_feed\";\r\nexport const UPDATE_CHATS=\"update_chats\";\r\nexport const SHOW_MESSAGE=\"show_message\";\r\nexport const RESEND_TOKEN=\"resend_token\";\r\n\r\n\r\n","import axios from 'axios';\r\nimport {\r\n    FETCH_USER,\r\n    FETCH_POSTS,\r\n    FIND_USER,\r\n    SIGN_UP,\r\n    CATCH_ERROR,\r\n    FETCH_CHATS,\r\n    FETCH_MESSAGES,\r\n    FETCH_POST,\r\n    UPDATE_LIKES,\r\n    FETCH_FEED,\r\n    UPDATE_CHATS,\r\n    SHOW_MESSAGE,\r\n    RESEND_TOKEN\r\n} from \"./types\";\r\nimport {socket} from \"../index\";\r\n\r\nexport function fetchUser() {\r\n\r\n     return async (dispatch)=>{\r\n         const res=await axios.get('/api/current_user');\r\n         dispatch({type:FETCH_USER,payload:res.data});\r\n     }\r\n}\r\n\r\nexport function sendPost(postId,values,imageData,history,userId) {\r\n    console.log(imageData)\r\n    return async (dispatch) => {\r\n        let t=await JSON.stringify(imageData)\r\n        const res=await axios.post('/api/post/'+userId,imageData);\r\n       // dispatch({type:FETCH_POSTS,payload:res.data} );\r\n        history.push('/dashboard');\r\n\r\n    }\r\n}\r\n\r\nexport function sendComment(values,postId,history) {\r\n    return async (dispatch) => {\r\n        const res=await axios.post('/api/post/comment',{postId :postId,comment:values});\r\n       // history.push('/dashboard');\r\n        dispatch({type:FETCH_POST,payload:res.data} );\r\n    }\r\n}\r\n\r\nexport function deletePost(postId,history) {\r\n    return async (dispatch) => {\r\n        const res=await axios.post('/api/post/delete',{postId :postId});\r\n       await dispatch({type:FETCH_USER,payload:res.data} );\r\n        history.push('/dashboard');\r\n\r\n    }\r\n}\r\n\r\nexport function fetchPosts(skip) {\r\n\r\n    return async (dispatch)=>{\r\n        try {\r\n            const res = await axios.get('/api/posts/'+skip);\r\n            dispatch({type: FETCH_POSTS, payload: res.data});\r\n        }catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function fetchFeed() {\r\n\r\n    return async (dispatch)=>{\r\n        try {\r\n\r\n\r\n            const res = await axios.get('/api/feed');\r\n            dispatch({type: FETCH_FEED, payload: res.data});\r\n        }catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport function findUser(name,history) {\r\n\r\n    return async (dispatch)=> {\r\n\r\n        try {\r\n            const res = await axios.get('/api/users/' + name);\r\n            history.push('/users/' + name);\r\n            dispatch({type: FETCH_POSTS, payload: res.data});\r\n        }catch (e) {\r\n            dispatch({type: CATCH_ERROR, payload: {type:\"user_not_found\",error:\"this user doesn't exist\"}});\r\n\r\n        }\r\n\r\n        }\r\n\r\n}\r\n\r\nexport function signUp(values,history) {\r\n    console.log(values)\r\n\r\n\r\n    return async (dispatch) => {\r\n\r\n\r\n        let res;\r\n        try {\r\n            res = await axios.post('/api/sign_up', values);\r\n        }catch (e) {\r\n\r\n            return\r\n        }\r\n        if (!res.data) {\r\n            dispatch({type: SHOW_MESSAGE, payload: {type:\"verify_email\"}});\r\n\r\n            history.push('/showMessage');\r\n        }\r\n        else\r\n            dispatch({type: CATCH_ERROR, payload: res.data});\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function logIn(values,history) {\r\n    console.log(values)\r\n\r\n\r\n    return async (dispatch)=> {\r\n        let res;\r\n        try {\r\n             res = await axios.post('/login/common', values);\r\n            if (res.data) {\r\n                history.push('/dashboard');\r\n                dispatch({type: FETCH_USER, payload: res.data});\r\n            }\r\n\r\n        }catch (e) {\r\n            dispatch({type: CATCH_ERROR, payload: {type:'log_in_error',error:\"incorrect username or password\"}});\r\n\r\n            return\r\n        }\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function resendToken(value,history) {\r\n\r\n    return async (dispatch) => {\r\n\r\n\r\n        let res;\r\n        try {\r\n            res = await axios.post('/api/resendToken', {email:value});\r\n        }catch (e) {\r\n\r\n            return\r\n        }\r\n        if (!res.data) {\r\n            dispatch({type: SHOW_MESSAGE, payload: {type:'verify_email'}});\r\n\r\n            history.push('/showMessage');\r\n        }\r\n        else\r\n            dispatch({type: CATCH_ERROR, payload: res.data});\r\n\r\n\r\n    }\r\n}\r\n\r\nexport function likePost(postId) {\r\n\r\n    try{\r\n    return async (dispatch)=>{\r\n        const res=await axios.post('/api/like',{postId :postId});\r\n        dispatch({type:UPDATE_LIKES,payload:res.data});\r\n    }\r\n    }catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport function getMoreComments(postId,num) {\r\n\r\n    return async (dispatch)=>{\r\n        const res=await axios.post('/api/comment',{postId :postId,num:num});\r\n        dispatch({type:FETCH_POSTS,payload:res.data});\r\n    }\r\n}\r\n\r\nexport function sendFriendRequest(username) {\r\n\r\n    try {\r\n\r\n\r\n    return async (dispatch)=>{\r\n        const res=await axios.post('/api/add_friend',{username:username});\r\n        dispatch({type:FETCH_USER,payload:res.data});\r\n    }\r\n    }catch (e) {\r\n        console.log(e)\r\n    }\r\n}\r\n\r\nexport function acceptFriendRequest(userId) {\r\n\r\n\r\n    return async (dispatch) => {\r\n        try {\r\n            const res = await axios.post('/api/accept', {userId: userId});\r\n            dispatch({type: FETCH_USER, payload: res.data});\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport function fetchMessageList() {\r\n    return async (dispatch) => {\r\n        try {\r\n            //const res=await axios.get('/api/message/'+name);\r\n            const res = await axios.get('/api/messages');\r\n            dispatch({type: FETCH_USER, payload: res.data});\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function fetchChats(myId,name) {\r\n    return async (dispatch)=>{\r\n        //const res=await axios.get('/api/message/'+name);\r\n        socket.emit('initial_data', {myId: myId, name: name});\r\n        socket.on('initial_data',(chat)=>{\r\n            dispatch({type:FETCH_CHATS,payload:chat});\r\n\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport function sendMessage(myId,name,message) {\r\n\r\n    return async (dispatch)=>{\r\n\r\n        socket.emit('send_message', {myId: myId, name: name,message:message});\r\n        socket.on('updated_chat',(chat)=>{\r\n\r\n            dispatch({type:UPDATE_CHATS,payload:chat});\r\n\r\n            socket.off('updated_chat')\r\n\r\n        })\r\n        //const res=await axios.post('/api/message/'+name,{message:message});\r\n    }\r\n\r\n}\r\n\r\nexport function uploadImage(file){\r\n    console.log(file)\r\n    return async (dispatch)=> {\r\n        try {\r\n            const res = await axios.post('/api/upload', file);\r\n            dispatch({type: FETCH_USER, payload: res.data});\r\n        }catch (e) {\r\n                console.log(e)\r\n            }\r\n    }\r\n}\r\n","import React,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {sendComment} from '../actions';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass composeComment extends Component  {\r\n\r\n    state={term : ''};\r\n\r\n\r\n    submitHandle= () => {\r\n        this.props.sendComment(this.state.term, this.props.postId, this.props.history);\r\n        this.setState({term:''});\r\n    };\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n            <span>\r\n                <input value={this.state.term} placeholder='Add Comment ...' className=\"input-field\" onChange={(event) => this.setState({term : event.target.value })}/>\r\n\r\n                <button type='submit' className=\"btn-floating right\" onClick={this.submitHandle}>\r\n                    send\r\n                    </button>\r\n            </span>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default connect(null,{sendComment})(withRouter(composeComment));","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import FocusTrap from 'focus-trap-react';\r\n// import focusTrap from 'focus-trap';\r\nexport class ModalContent extends Component {\r\n    render() {\r\n        return ReactDOM.createPortal(\r\n          //  <FocusTrap>\r\n                <aside\r\n                    tag=\"aside\"\r\n                    role=\"dialog\"\r\n                    tabIndex=\"-1\"\r\n                    aria-modal=\"true\"\r\n                    className=\"modal-cover\"\r\n                    onClick={this.props.onClickOutside}\r\n                    onKeyDown={this.props.onKeyDown}\r\n                >\r\n                    <div className=\"modal-area\" >\r\n                        <button\r\n                            ref={this.props.buttonRef}\r\n                            aria-label=\"Close Modal\"\r\n                            aria-labelledby=\"close-modal\"\r\n                            className=\"_modal-close\"\r\n                            onClick={this.props.closeModal}\r\n                        >\r\n              <span id=\"close-modal\" className=\"_hide-visual\">\r\n                Close\r\n              </span>\r\n                            <svg className=\"_modal-close-icon\" viewBox=\"0 0 40 40\">\r\n                                <path d=\"M 10,10 L 30,30 M 30,10 L 10,30\" />\r\n                            </svg>\r\n                        </button>\r\n                        <div className=\"modal-body\">{this.props.content}</div>\r\n                    </div>\r\n                </aside>,\r\n           // </FocusTrap>,\r\n            document.getElementById('modal')\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalContent;\r\n","import React, { Component } from 'react';\r\nclass ModalTrigger extends Component {\r\n    render() {\r\n        return (\r\n            <button\r\n                ref={this.props.buttonRef}\r\n                onClick={this.props.showModal}\r\n                className=\"modal-button\"\r\n            >\r\n                {this.props.triggerText}\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModalTrigger;\r\n","import React, { Component } from 'react';\r\nimport ModalContent from './ModalContent';\r\nimport ModalTrigger from './ModalTrigger';\r\nexport class Modal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShown: false\r\n        };\r\n    }\r\n    showModal = () => {\r\n        this.setState({ isShown: true }, () => {\r\n           // this.closeButton.focus();\r\n        });\r\n      //  this.toggleScrollLock();\r\n    };\r\n    closeModal = () => {\r\n        this.setState({ isShown: false });\r\n      //  this.TriggerButton.focus();\r\n       // this.toggleScrollLock();\r\n    };\r\n    // onKeyDown = event => {\r\n    //     if (event.keyCode === 27) {\r\n    //         this.closeModal();\r\n    //     }\r\n    // };\r\n    onClickOutside = event => {\r\n        if (this.modal && this.modal.contains(event.target)) return;\r\n        this.closeModal();\r\n    };\r\n    //\r\n    // toggleScrollLock = () => {\r\n    //     document.querySelector('html').classList.toggle('scroll-lock');\r\n    // };\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <ModalTrigger\r\n                    showModal={this.showModal}\r\n                    buttonRef={n => (this.TriggerButton = n)}\r\n                    triggerText={this.props.modalProps.triggerText}\r\n                />\r\n                {this.state.isShown ? (\r\n                    <ModalContent\r\n                       modalRef={n => (this.modal = n)}\r\n                        buttonRef={n => (this.closeButton = n)}\r\n                        closeModal={this.closeModal}\r\n                        content={this.props.modalContent}\r\n                       // onKeyDown={this.onKeyDown}\r\n                        onClickOutside={this.onClickOutside}\r\n                    />\r\n                ) : (\r\n                    <React.Fragment />\r\n                )}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\n\r\nexport default ({input,label,type, meta :{touched,error}}) =>{\r\n\r\n    return (\r\n        <div style={{marginBottom : '15px',marginTop:'30px'}}>\r\n\r\n        <div className=\"row \">\r\n            <input placeholder={label} className=\"input-field col s12 m8 offset-m2\" {...input} type={type} style={{marginBottom : '5px'}} />\r\n\r\n\r\n        </div>\r\n            <div className=\"red-text row\"  >\r\n                <p className=\"col offset-m2\">\r\n                    {touched && error}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React ,{Component} from 'react';\r\nimport {reduxForm,Field,Form} from 'redux-form';\r\nimport {withRouter, Link} from 'react-router-dom';\r\nimport {logIn} from '../../actions';\r\nimport {connect} from 'react-redux';\r\nimport postFormField from '../post/postFormField';\r\nimport '../../flex.css';\r\nimport keys from '../../keys';\r\n\r\nclass LogInForm extends Component{\r\n\r\n\r\n\r\n\r\n    renderContent(){\r\n        return(\r\n            <div >\r\n                <img style={{height:'9.3vh'}} className='ui image medium' src={keys.host+'logo1.png'}/>\r\n\r\n                <Field  name=\"username\" type=\"text\" label=\"Username or email\" component={postFormField}/>\r\n                <Field  name=\"password\" type=\"password\" label=\"Password\" component={postFormField}/>\r\n\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        console.log('values')\r\n\r\n\r\n        return(\r\n            <div className=\"flex-container\">\r\n\r\n\r\n                <Form  className=\"form-field\" style={{border:'3px solid teal',padding:'25px 25px' ,color:'blue',minWidth:'250px',maxWidth:'300px'} }  onSubmit={this.props.handleSubmit((values) => this.props.logIn(values,this.props.history))}>\r\n                    {this.renderContent()}\r\n\r\n                    <Link to='/dashboard' className=\"red  btn-flat\">\r\n                        Back\r\n                    </Link>\r\n                    <button type=\"submit\" className=\"right teal  btn-flat\">\r\n                        Log In\r\n                    </button>\r\n                </Form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nfunction validate(values) {\r\n\r\n    const errors={};\r\n\r\n    if(!values.username)\r\n        errors.username=\"Enter a username or email !\";\r\n    if(!values.password)\r\n        errors.password=\"Enter your password !\";\r\n\r\n\r\n\r\n    return errors;\r\n}\r\n\r\n\r\nexport default connect(null,{logIn})(reduxForm({\r\n    validate,\r\n    form:'logInForm'\r\n\r\n\r\n})(withRouter(LogInForm)));","import React,{Component} from 'react';\r\nimport composeComment from \"./ComposeComment\";\r\nimport Modal from \"./Modal\";\r\nimport LogInForm from './registering/LogInForm'\r\nimport '../flex.css'\r\n\r\nclass Landing extends Component{\r\n\r\n    state={isShowing:false};\r\n\r\n    openModalHandler = () => {\r\n        this.setState({\r\n            isShowing: true\r\n        });\r\n    }\r\n\r\n    closeModalHandler = () => {\r\n        this.setState({\r\n            isShowing: false\r\n        });\r\n    }\r\n    render() {\r\n        return(\r\n            <div className='flex-container ' >\r\n\r\n\r\n                <div className='landing' style={{flexBasis:'15%'}}>\r\n                </div>\r\n                <div className='landing' style={{flexBasis:'15%'}}>\r\n                <h1>\r\n                   intouch\r\n               </h1>\r\n\r\n                <h5>\r\n                    contact your friends\r\n                </h5>\r\n                </div>\r\n\r\n                <div className='landing' style={{flexBasis:'50%',padding:'25px 25px'}}>\r\n                <LogInForm/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Landing;","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {findUser} from \"../actions\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass SearchBar extends Component{\r\n\r\n    state= {term : ''};\r\n\r\n    render() {\r\n        return(\r\n            <div className='row'>\r\n            <div className='search_friend col offset-m9 m3 offset-s2 s8 darken-2 grey z-depth-3 card-panel' style={{marginTop:'40px'}}>\r\n                <label className='label  white-text' htmlFor='search_friend'> find profiles by username</label>\r\n\r\n                <input  className='input-field lighten-1' placeholder='Search ...'id='search_friend' onChange={(event) => this.setState({term : event.target.value })}/>\r\n                <span style={{color:'orange'}}>{this.props.error ? this.props.error.error:''}</span>\r\n                <button className='right btn-flat teal ' onClick={() => this.props.findUser(this.state.term,this.props.history)}>\r\n                    <i className=\"material-icons\">search</i>\r\n                </button>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        error:state.error\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{findUser})(withRouter(SearchBar));","export default function handleMeta(content){\r\n    if(content.createdAt){\r\n        let date;\r\n        if(!content.isEdited){\r\n             date=  new Date(content.createdAt);\r\n            return date.toDateString;\r\n        }else {\r\n            date =  new Date(content.createdAt);\r\n\r\n            return \"edited at \" + date.toDateString();\r\n        }\r\n    }else {\r\n        return \"no date\";\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {getMoreComments} from \"../actions\";\r\nimport {Comment,Header} from \"semantic-ui-react\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {findUser} from \"../actions\";\r\nimport handleMeta from \"./general/handleMeta\";\r\nimport keys from '../keys'\r\n\r\nclass CommentSection extends Component {\r\n\r\n    state={num : 0};\r\n\r\n    componentDidMount() {\r\n        this.setState({num:1});\r\n    }\r\n\r\n    render(){\r\n    return(\r\n\r\n        <Comment.Group>\r\n            <Header as='h3' dividing>\r\n                Comments\r\n            </Header>\r\n        <div>\r\n            {\r\n            this.props.comments.map((comment)=>{\r\n                return (\r\n                    <Comment>\r\n\r\n                        <Comment.Avatar src={keys.host+comment._user.imageName}/>\r\n                        <Comment.Content>\r\n                            <Comment.Author className='clickable' onClick={() =>this.props.findUser(comment.name,this.props.history)}>\r\n                                {comment.name}\r\n                            </Comment.Author>\r\n                            <Comment.Metadata>\r\n                                <div>{handleMeta(comment)}</div>\r\n                            </Comment.Metadata>\r\n                            <Comment.Text>\r\n                            {comment.comment}\r\n                            </Comment.Text>\r\n                        </Comment.Content>\r\n\r\n                        <div className='ui hidden divider'></div>\r\n                    </Comment>\r\n\r\n                )\r\n            })\r\n        }\r\n        <div>\r\n            <button onClick={this.getComments}> more comments</button>\r\n        </div>\r\n        </div>\r\n        </Comment.Group>\r\n    );\r\n\r\n\r\n\r\n}\r\n    getComments=() =>{\r\n        this.setState((state) => {return {num:state.num +1}});\r\n        this.props.getMoreComments(this.props.postId,this.state.num);\r\n\r\n    }\r\n}\r\n\r\nexport default connect(null,{getMoreComments,findUser})(withRouter(CommentSection));","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {uploadImage} from \"../actions\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass UploadImage extends Component{\r\n\r\n    state= {\r\n        file : '',\r\n        fileURL:''\r\n\r\n    };\r\n\r\n    handleSubmit=() =>{\r\n        const form=new FormData();\r\n\r\n     //   form.append('imageName','img');\r\n        form.append('imageData',this.state.file);\r\n\r\n         this.props.uploadImage(form)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className='row'>\r\n                <div className=' col offset-m2 m3 offset-s2 s8 darken-2 grey z-depth-3 card-panel' style={{marginTop:'40px'}}>\r\n                    <label className='label  white-text' htmlFor='upload'> upload image</label>\r\n\r\n\r\n                    <input  name='imageData' type='file' className='input-field lighten-1' id='upload' style={{width:'200px'}}onChange={(event) => this.setState({file : event.target.files[0] ,fileURL:URL.createObjectURL(event.target.files[0])})}/>\r\n                    <img style={{width:'100px',height:'100px'}} src={this.state.fileURL}/>\r\n                    <button className='right btn-flat teal ' onClick={this.handleSubmit}>\r\n                        <i className=\"material-icons\">send</i>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null,{uploadImage})(withRouter(UploadImage));","import React,{Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from 'react-redux';\r\nimport {fetchPosts,likePost,deletePost,uploadImage} from \"../actions\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport ComposeComment from \"./ComposeComment\";\r\nimport CommentSection from \"./CommentSection\";\r\nimport UploadImage from \"./UploadImage\";\r\nimport handleMeta from \"./general/handleMeta\";\r\nimport keys from '../keys'\r\nimport '../flex.css'\r\n\r\n\r\nclass Dashboard extends Component{\r\n\r\n    state={\r\n        skip:0\r\n    }\r\n    componentDidMount() {\r\n    //     console.log(\"you're at the bottom of the page\");\r\n\r\n        window.addEventListener('scroll', ()=> {\r\n            const winScroll =\r\n                document.body.scrollTop || document.documentElement.scrollTop\r\n\r\n            const height =\r\n                document.documentElement.scrollHeight -\r\n                document.documentElement.clientHeight\r\n\r\n            const scrolled = winScroll / height;\r\n            if ( scrolled===1) {\r\n                this.setState((state)=> {return {skip:state.skip+1}})\r\n                this.props.fetchPosts(this.state.skip);\r\n            }\r\n        });\r\n       this.props.fetchPosts(this.state.skip);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('scroll',()=>{\r\n            this.setState({skip:0})\r\n        });\r\n    }\r\n\r\n    // handleScroll = (e) => {\r\n    //     console.log(\"you're at the bottom of the page\");\r\n    //     const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight;\r\n    //     if (bottom) { this.setState((state)=> {return {skip:state.skip+1}},this.props.fetchPosts(this.state.skip))\r\n    //     }\r\n    // }\r\n    handleNoPosts = () =>{\r\n      if(this.props.posts.length<1){\r\n\r\n          return(<div className='center-align'>\r\n                  <h4 >No Posts Yet</h4>\r\n                  <p>create posts to share moments with friends</p>\r\n          </div>\r\n          );\r\n      }\r\n    };\r\n\r\n    render() {\r\n        if(this.props.current_user){\r\n            {document.body.style= \" background :#464646;\"}\r\n        return(\r\n\r\n\r\n            <div >\r\n            <SearchBar/>\r\n\r\n\r\n\r\n                {this.handleNoPosts()}\r\n\r\n\r\n                <ul>\r\n                    {this.props.posts.map((post) =>{\r\n\r\n                        return(\r\n\r\n                                <div className=\"ui card centered \" style={{padding:'20px',backgroundColor:'#FF9800',width:'85vh', wordWrap:'break-word'} }>\r\n                                    <div className=\"content \" >\r\n                                        <div>\r\n                                            <Link\r\n                                                to={\r\n                                                    {pathname : '/post/edit' ,\r\n                                                        state :{\r\n                                                            title : post.title,\r\n                                                            content:post.content,\r\n                                                            postId:post._id,\r\n                                                            images:post.images\r\n                                                        }\r\n                                                    }}>\r\n                                                edit\r\n                                            </Link>\r\n\r\n\r\n                                            <Link className=\"right\"\r\n                                                  to={\r\n                                                      {pathname : '/post/delete' ,\r\n                                                          state :{\r\n                                                              title : post.title,\r\n                                                              content:post.content,\r\n                                                              postId:post._id\r\n                                                          }\r\n                                                      }}>\r\n                                                delete\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div className='meta'>\r\n                                            {handleMeta(post)}\r\n                                        </div>\r\n                                        <div className=\"center aligned header\">{post.title}</div>\r\n\r\n\r\n                                        {/*<button className=\"btn-floating\" onClick={()=>this.props.likePost(post._id)}>*/}\r\n                                        {/*    <i className=\"material-icons\">{(post.likes.filter(e => e.username === this.props.current_user.username).length > 0)? 'favorite': 'favorite_border'}</i>*/}\r\n\r\n                                        <div className='flex-container-posts-image'>\r\n                                            {post.images.map((image)=> {\r\n                                                return(\r\n\r\n                                                <img style={{width:'200px',height:'200px' , padding:'30px'}}src={image ?  keys.host+image: ''}/>\r\n                                                )\r\n                                            } )}\r\n                                        </div>\r\n                                        {/*</button>*/}\r\n                                        <div className='description' style={{marginBottom:'75px'}}>\r\n                                            {post.content}\r\n                                        </div>\r\n\r\n                                        <span className=\"right floated\">\r\n\r\n                                        <i onClick={()=>this.props.likePost(post._id)} className={(post.likes.filter(e => e.username === this.props.current_user.username).length > 0)? \"heart  like icon\": \"heart outline  like icon\"}></i>\r\n\r\n\r\n                                            {post.likes.length}\r\n                                         </span>\r\n                                        <i class=\"comment icon\"></i>\r\n                                        {post.comments.length+'comments'}\r\n\r\n                                    </div>\r\n                                    <div className=\"ui right bottom floated\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                        <ComposeComment postId={post._id}/>\r\n                                        <CommentSection comments={post.comments} postId={post._id}/>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n\r\n\r\n                        )})}\r\n                </ul>\r\n            </div>\r\n        )};\r\n\r\n        return <div className='ui active dimmer centered ' >\r\n\r\n            <img className='ui medium image' src={keys.host+'loader.png'}/>\r\n            <div className=\"ui loader\">Loading</div>\r\n\r\n        </div>\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        posts:Object.values(state.posts),\r\n        current_user:state.auth\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchPosts,likePost,deletePost,uploadImage})(Dashboard);","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {uploadImage} from \"../actions\";\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass UploadImages extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state={\r\n            files:[]\r\n        }\r\n    }\r\n\r\n\r\n\r\n    handleSubmit=() =>{\r\n        const form=new FormData();\r\n\r\n        //   form.append('imageName','img');\r\n        form.append('files',this.state.files);\r\n\r\n        this.props.uploadImage(form)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n\r\n                <div className='   m3 s8 darken-2 grey z-depth-3 card-panel' style={{marginTop:'40px'}}>\r\n                    <label className='label  white-text' htmlFor='upload'> upload images</label>\r\n\r\n\r\n                    <input name='imageData'  multiple  type='file' className='input-field lighten-1' id='upload' style={{width:'1000px'}}onChange={(event) => {\r\n                        this.setState({files:[...event.target.files ]})\r\n                        this.props.handleImageData([...event.target.files ])}}/>\r\n                  <div className='flex-container-posts-image'>\r\n\r\n                      {\r\n\r\n                        this.state.files.map((file) =>{\r\n                            return(\r\n\r\n                                <div>\r\n                        <img style={{width: '200px', height: '200px'}} src={URL.createObjectURL(file)}/>\r\n                                </div>\r\n                        )\r\n                    })\r\n                    }\r\n\r\n                  </div>\r\n\r\n                </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null,{uploadImage})(withRouter(UploadImages));","import React ,{Component} from 'react';\r\nimport {reduxForm,Field,Form} from 'redux-form';\r\nimport {withRouter, Link} from 'react-router-dom';\r\nimport {sendPost} from '../../actions';\r\nimport {connect} from 'react-redux';\r\nimport postFormField from \"./postFormField\";\r\nimport '../../flex.css'\r\nimport UploadImages from \"../UploadImages\";\r\nclass NewPostForm extends Component{\r\n\r\n\r\nstate={\r\n    imageData:[]\r\n}\r\n    componentDidMount() {\r\n\r\n        this.props.initialize(\r\n            {\r\n                title:this.props.location.state.title,\r\n                content:this.props.location.state.content,\r\n                images:this.props.location.state.images\r\n            })\r\n        console.log(this.props.location.state.images)\r\n       // this.setState({imageData:this.props.location.state.images},()=>console.log(this.state.imageData))\r\n    }\r\n\r\n\r\n    handleImageData=(images) =>{\r\n    console.log(images)\r\n    if (images) {\r\n        this.setState({imageData: images}, () => console.log(this.state.imageData))\r\n    }\r\n\r\n\r\n\r\n    }\r\n\r\n    renderContent(){\r\n        return(\r\n            <div>\r\n                <Field name=\"title\" type=\"text\"  label=\"title\" component={postFormField}/>\r\n                <Field name=\"content\" type=\"text\" label=\"content\"   component={postFormField}/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n\r\n    return(\r\n        <div className='flex-container'>\r\n\r\n            <div style={{minWidth:'250px',maxWidth:'600px'}}>\r\n            <UploadImages handleImageData={(e) => this.handleImageData(e)}/>\r\n            <Form  className='form-field' onSubmit={this.props.handleSubmit(async (values) => {\r\n                const form=new FormData();\r\n\r\n\r\n                //   form.append('imageName','img');\r\n                console.log(this.state.imageData)\r\n\r\n               await  this.state.imageData.forEach(  (file)=>  form.append('imageData',file))\r\n\r\n                form.append('values',JSON.stringify(values))\r\n                form.append('postId',this.props.location.state.postId)\r\n\r\n\r\n\r\n                this.props.sendPost(this.props.location.state.postId,values,form,this.props.history,this.props.user._id)\r\n                //this.props.history.push('/dashboard')\r\n            })\r\n\r\n\r\n            }>\r\n\r\n            {this.renderContent()}\r\n\r\n           <Link to='/dashboard' className=\"red  btn-flat\">\r\n               Back\r\n           </Link>\r\n            <button type=\"submit\" className=\"right teal  btn-flat\">\r\n                Post\r\n            </button>\r\n            </Form>\r\n        </div>\r\n        </div>\r\n\r\n)\r\n}\r\n\r\n\r\n\r\n}\r\n\r\nfunction validate(values) {\r\n\r\n    const errors={};\r\n\r\n   if(!values.title)\r\n       errors.title=\"provide bitch !\";\r\n   if(!values.content)\r\n       errors.content=\"provide bitch !\";\r\n\r\n   return errors;\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.auth\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{sendPost})(reduxForm({\r\n    validate,\r\n    form:'newPostForm',\r\n\r\n   // enableReinitialize:true\r\n\r\n\r\n\r\n})(withRouter(NewPostForm)))","import React from 'react';\r\nimport Modali,{useModali} from 'modali';\r\nimport {connect} from 'react-redux';\r\nimport {sendFriendRequest} from \"../../actions\";\r\nimport ReactToolTip from 'react-tooltip';\r\n\r\nconst MyModali = (props) =>{\r\n    const [myModal,toggleMyModal]=useModali({\r\n        animated:true,\r\n        title:'Verify action',\r\n        message:'are you sure you want to remove this user from your friends ?',\r\n        buttons:[\r\n            <Modali.Button\r\n                label='Cancel'\r\n                isStyleCancel\r\n                onClick={()=> toggleMyModal()}\r\n                />,\r\n            <Modali.Button\r\n                label='Remove friend'\r\n                isStyleDestructive\r\n                onClick={() => {props.sendFriendRequest(props.name); toggleMyModal();}}\r\n            />\r\n        ]\r\n    });\r\n\r\n    return(\r\n        <div>\r\n            <button onClick={toggleMyModal} data-for='friendRemove' data-tip='remove friend'>\r\n                <i  className=\"material-icons\">highlight_off</i>\r\n                <ReactToolTip id=\"friendRemove\"/>\r\n            </button>\r\n            <Modali.Modal {...myModal}/>\r\n        </div>\r\n    )\r\n\r\n\r\n\r\n};\r\n\r\n\r\nexport default connect(null,{sendFriendRequest})(MyModali);","import React,{Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from 'react-redux';\r\nimport SearchBar from \"./SearchBar\";\r\nimport {likePost,findUser,sendFriendRequest} from \"../actions\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport ComposeComment from \"./ComposeComment\";\r\nimport CommentSection from \"./CommentSection\";\r\nimport ReactToolTip from 'react-tooltip';\r\nimport MyModali from \"./general/modali\";\r\nimport Modal from \"./Modal\";\r\nimport handleMeta from \"./general/handleMeta\";\r\n\r\nclass OtherUser extends Component{\r\n\r\n   // state={showModal : false};\r\n    componentDidMount() {\r\n        this.props.findUser(this.props.match.params.name,this.props.history);\r\n    }\r\n\r\n\r\n    setFriendIcon(){\r\n        if(this.props.current_user) {\r\n            if (this.props.current_user.friends.filter(e => e.username === this.props.match.params.name).length > 0) {\r\n                return <i  className=\"material-icons\">highlight_off</i>\r\n\r\n            }else if(this.props.current_user.friendRequestsSent.filter(e => e.username === this.props.match.params.name).length > 0) {\r\n\r\n                return <i className=\"material-icons\">error</i>\r\n            }else{\r\n                return <i className=\"material-icons\">person_add</i>\r\n\r\n            }\r\n        }\r\n        return <p>Login to add as friend</p>\r\n\r\n    }\r\n\r\n    setFriendToolTip(){\r\n\r\n        if(this.props.current_user) {\r\n            if(this.props.current_user.friends.filter(e => e.username === this.props.match.params.name).length > 0)\r\n                return \"remove friend\" ;\r\n            else if(this.props.current_user.friendRequestsSent.filter(e => e.username === this.props.match.params.name).length > 0)\r\n            return \"request pending\";\r\n            else{\r\n                return \"add friend\";\r\n\r\n            }\r\n        }\r\n        return 'not logged in';\r\n    }\r\n    handleFriendButton(){\r\n        if(this.props.current_user) {\r\n            if(this.props.current_user.friends.filter(e => e.username === this.props.match.params.name).length > 0)\r\n                return <MyModali name={this.props.match.params.name}/> ;\r\n\r\n            else{\r\n                return(\r\n                <button data-for='friendOption' data-tip={this.setFriendToolTip()} onClick={()=> this.props.sendFriendRequest(this.props.match.params.name)}>\r\n                    {this.setFriendIcon()}\r\n                    <ReactToolTip id='friendOption'/>\r\n\r\n                </button>\r\n                )\r\n            }\r\n        }\r\n        return 'not logged in';\r\n\r\n    }\r\n    render() {\r\n        return(\r\n\r\n\r\n            <div className=\"push-s3\">\r\n\r\n                {this.handleFriendButton()}\r\n\r\n                <Link to={'/users/message/'+this.props.match.params.name}>\r\n\r\n                    message\r\n                </Link>\r\n\r\n\r\n\r\n                <SearchBar/>\r\n                <ul>\r\n                    {this.props.friendPosts.reverse().map((post) =>{\r\n\r\n                        return(\r\n                            <div className=\"row \">\r\n                                <div className=\"col s12 m6 push-m3 \">\r\n                                    <div className=\"card blue-grey darken-1\">\r\n                                        <div className=\"card-content white-text\">\r\n                                            <div className='meta'>\r\n                                                {handleMeta(post)}\r\n                                            </div>\r\n                                            <span className=\"card-title  center-align\">{post.title}</span>\r\n                                            <p>\r\n                                                {post.content}\r\n                                            </p>\r\n\r\n                                            <p>\r\n                                                likes : {post.likes.length}\r\n                                            </p>\r\n                                        </div>\r\n                                        <div className=\"card-action\">\r\n                                            <button onClick={()=>this.props.likePost(post._id)}>\r\n                                                Like\r\n                                            </button>\r\n\r\n                                            <ComposeComment postId={post._id}/>\r\n                                            <CommentSection comments={post.comments} postId={post._id}/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )})}\r\n                </ul>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        friendPosts:Object.values(state.find),\r\n        current_user:state.auth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{likePost,findUser,sendFriendRequest})(withRouter(OtherUser));","import React ,{Component} from 'react';\r\nimport {reduxForm,Field,Form} from 'redux-form';\r\nimport {withRouter, Link} from 'react-router-dom';\r\nimport {signUp} from '../../actions';\r\nimport {connect} from 'react-redux';\r\nimport postFormField from '../post/postFormField';\r\nimport '../../flex.css';\r\nimport keys from '../../keys';\r\n\r\nclass SignUpForm extends Component{\r\n\r\n\r\n\r\n\r\n    renderContent(){\r\n        return(\r\n            <div>\r\n                <img style={{height:'9.3vh'}} className='ui image medium' src={keys.host+'logo1.png'}/>\r\n\r\n                <Field name=\"username\" type=\"text\" label=\"Username\" component={postFormField}/>\r\n                <Field name=\"email\" type=\"email\" label=\"ٍEmail\" component={postFormField}/>\r\n                <Field name=\"password\" type=\"password\" label=\"Password\" component={postFormField}/>\r\n                <Field name=\"confirmPass\" type=\"password\" label=\"Confirm Password\" component={postFormField}/>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div className='flex-container'>\r\n\r\n                <Form className=\"form-field\" style={{border:'3px solid teal',padding:'25px 25px' ,color:'blue',alignSelf:'flex-end',minWidth:'250px',maxWidth:'300px'} } onSubmit={this.props.handleSubmit((values) => this.props.signUp(values,this.props.history))}>\r\n                    {this.renderContent()}\r\n\r\n                    <Link to='/' className=\"red  btn-flat\">\r\n                        Back\r\n                    </Link>\r\n                    <button type=\"submit\" className=\"right teal  btn-flat\">\r\n                        Sign Up\r\n                    </button>\r\n                </Form>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nfunction validate(values,props) {\r\n\r\n    const errors={};\r\n\r\n    // if(props.serverError)\r\n    //     errors.username=props.serverError;\r\n    if(!values.username )\r\n        errors.username=\"Choose a username !\";\r\n    if(!values.email )\r\n        errors.email=\"Enter your email !\";\r\n    if(!values.password)\r\n        errors.password=\"choose a password !\";\r\n    if(!values.confirmPass)\r\n        errors.confirmPass=\"confirm password !\";\r\n    if(values.confirmPass !==values.password)\r\n        errors.confirmPass=\"this is a different password\";\r\n\r\n\r\n\r\n    return errors;\r\n}\r\n\r\n\r\nexport default connect(null,{signUp})(reduxForm({\r\n    validate,\r\n    form:'signUpForm'\r\n\r\n\r\n})(withRouter(SignUpForm)));","import React from 'react';\r\nimport {deletePost} from '../../actions';\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nfunction verifyDelete(props) {\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            <label>{props.location.state.title}</label>\r\n            <p>{props.location.state.content}</p>\r\n            <button className=\"red right\" onClick={()=>props.deletePost(props.location.state.postId,props.history)}>\r\n                delete\r\n            </button>\r\n\r\n            <Link to='/dashboard'> Back</Link>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default connect(null,{deletePost})(verifyDelete);","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {acceptFriendRequest,findUser} from '../actions'\r\nimport {Link} from \"react-router-dom\";\r\nimport ComposeComment from \"./ComposeComment\";\r\nimport CommentSection from \"./CommentSection\";\r\nimport keys from '../keys';\r\n\r\n\r\nclass FriendRequests extends Component{\r\n\r\n\r\n    render() {\r\n        let  friendRequests;\r\n        if(this.props.friendRequests){\r\n             friendRequests=this.props.friendRequests.friendRequestsReceived;\r\n        }else{\r\n            friendRequests=[];\r\n        }\r\n        return(\r\n            <div >\r\n\r\n                <ul style={{marginTop:'50px'}}>\r\n                    {friendRequests.reverse().map((request) =>{\r\n\r\n                        return(\r\n\r\n                                <div className=\" ui card centered  \">\r\n                                    <div className=\"content\">\r\n                                        <img className='right floated mini ui image' src={keys.host+request.imageName}/>\r\n                                            <div className=\"header clickable\" onClick={() =>this.props.findUser(request.username,this.props.history)}>\r\n                                                {request.username}\r\n                                            </div>\r\n\r\n                                        <div className=\"ui two buttons\">\r\n                                            <div className=\"ui basic green button\" onClick={()=>this.props.acceptFriendRequest(request._id)}>Approve</div>\r\n                                            <div className=\"ui basic red button\">Decline</div>\r\n                                        </div>\r\n\r\n\r\n\r\n\r\n\r\n                                    </div>\r\n\r\n                                    </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        )})}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state){\r\n\r\n\r\n    return{\r\n\r\n        friendRequests:state.auth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{acceptFriendRequest,findUser})(FriendRequests);","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {findUser} from \"../actions\";\r\nimport keys from '../keys';\r\n\r\n\r\n\r\nclass Friends extends Component{\r\n\r\n\r\n    render() {\r\n        let  friends;\r\n        if(this.props.friends){\r\n            friends=this.props.friends.friends;\r\n        }else{\r\n            friends=[];\r\n        }\r\n        return(\r\n            <div >\r\n\r\n                <ul style={{marginTop:'50px'}}>\r\n                    {friends.reverse().map((friend) =>{\r\n\r\n                        return(\r\n                            <div className=\"ui card centered \">\r\n                                <div className=\"content clickable \" onClick={() =>this.props.findUser(friend.username,this.props.history)}>\r\n                                    <img className=\"ui avatar image\" src={keys.host+friend.imageName}/>\r\n\r\n                                            <div className=\"header center aligned\" >\r\n                                                {friend.username}\r\n                                            </div>\r\n\r\n\r\n\r\n\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        )})}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state){\r\n\r\n\r\n    return{\r\n\r\n        friends:state.auth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{findUser})(Friends);","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchChats,sendMessage,findUser,fetchUser} from \"../actions\";\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport '../flex.css'\r\nimport {socket} from \"./App\";\r\nimport keys from '../keys'\r\n\r\n\r\nclass Chat extends Component{\r\n\r\n    state= {term : ''};\r\n\r\n    componentDidMount() {\r\n        //this.props.fetchChats(this.props.match.params.name);\r\n\r\n        let t= async () => { return this.props.fetchUser()};\r\n        t().then(\r\n            () =>{ this.props.fetchChats(this.props.current_user._id,this.props.match.params.name);\r\n        this.scrollToBottom();}\r\n        )\r\n\r\n\r\n    }\r\n\r\n    scrollToBottom = () => {\r\n        this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if( this.props.current_user && (JSON.stringify(prevProps.chats)!==JSON.stringify(this.props.chats) ) ) {\r\n            //  this.props.fetchChats(this.props.current_user._id,this.props.match.params.name);\r\n            this.scrollToBottom();\r\n\r\n\r\n         }\r\n    }\r\n\r\n\r\n    renderContent = () =>{\r\n        console.log(this.props.chats)\r\n\r\n        if(this.props.chats && this.props.chats.messages && this.props.current_user) {\r\n            return (\r\n                <div className='chat_flex_container_container'>\r\n\r\n\r\n                <div  className='  chat_flex_container'>\r\n                    <div className=\"content clickable  \" onClick={() =>this.props.findUser(this.props.match.params.name,this.props.history)}  style={{backgroundColor:'grey' ,alignSelf:'flex-start',width:'100%'}}>\r\n                        <Link  className=\" right brand-logo \">\r\n                            <img style={{width:'50px',height:'50px'}} className='circle responsive-img' src={this.props.chats._users[1].imageName ?  keys.host+this.props.chats._users[1].imageName: ''}/>\r\n\r\n                        </Link>\r\n\r\n\r\n\r\n                    </div >\r\n                    {\r\n\r\n                        this.props.chats.messages.map((chat) => {\r\n                            return (\r\n\r\n                                <React.Fragment>\r\n                                <div style={(chat._sender===this.props.current_user._id) ?{margin:'50px 50px',alignSelf:'flex-start',maxWidth:'45%', wordWrap:'break-word'} :{margin:'50px 50px',alignSelf:'flex-end',maxWidth:'45%', wordWrap:'break-word'}} className={(chat._sender===this.props.current_user._id) ? ' light-green  card-panel ' : ' light-blue card-panel'}>\r\n\r\n                                    { chat.message}\r\n                                </div>\r\n                                    <br/>\r\n\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n                </div>\r\n                    )\r\n        } else {\r\n            return \"No messages yet\"\r\n        }\r\n    }\r\n\r\n    submitHandle= () => {\r\n        if(this.state.term) {\r\n           // this.socket.emit('hi','hi');\r\n            this.props.sendMessage(this.props.current_user._id,this.props.match.params.name, this.state.term);\r\n            this.setState({term: ''});\r\n        }\r\n    };\r\n    render() {\r\n        return(\r\n            <div >\r\n\r\n\r\n                <div style={{marginBottom:'100px'} }>\r\n\r\n                    {this.renderContent()};\r\n\r\n\r\n\r\n                </div>\r\n                <div style={{ float:\"left\", clear: \"both\" }}\r\n                     ref={(el) => { this.messagesEnd = el; }}>\r\n                </div>\r\n                <div className='row'>\r\n                <div  className='col offset-m2 m8 offset-s2 s8 darken-2 page-footer' id='footer' >\r\n                <textarea  value={this.state.term} className='input-field lighten-2'  onChange={(event) => this.setState({term : event.target.value })}/>\r\n                <button className='right btn-flat teal ' onClick={this.submitHandle}>\r\n                         <i className=\"material-icons\">send</i>\r\n                </button>\r\n                </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\r\n    console.log(state.chats);\r\n    return {\r\n        current_user:state.auth,\r\n\r\n        chats: state.chats\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchChats,sendMessage,findUser,fetchUser})(withRouter(Chat));","import React ,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {resendToken} from \"../actions\";\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport '../flex.css';\r\n\r\nclass SendEmail extends Component{\r\n\r\n    state={term:'',btnDisable:false,time:0};\r\n\r\n    submitHandle= () => {\r\n        if(this.state.term) {\r\n            // this.socket.emit('hi','hi');\r\n            this.props.resendToken( this.state.term,this.props.history);\r\n            this.setState((state )=>{return {btnDisable:true,time:300}},this.setTimer)\r\n\r\n        }\r\n    };\r\n\r\n    setTimer= () => {\r\n            this.interval=setInterval(() =>{\r\n                this.setState(state => {return state.time>0 ?{time : state.time-1}:{time:0,btnDisable:false}});\r\n\r\n            },1000);\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div>\r\n                <p>if you didn't receive a token enter your email below and press send</p>\r\n            <input type='email' onChange={(event )=> this.setState({term:event.target.value})}/>\r\n                <button className='right btn-flat teal ' disabled={this.state.btnDisable} onClick={this.submitHandle}>\r\n                    <i className=\"material-icons\">send</i>\r\n                </button>\r\n                <div>\r\n                    {this.state.time>0 ? Math.floor(this.state.time/60)+' : '+this.state.time%60 :''}\r\n                </div>\r\n\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null,{resendToken})(withRouter(SendEmail))","import React,{Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport '../../flex.css'\r\nimport SendEmail from \"../SendEmail\";\r\n\r\n\r\nclass ShowMessage extends Component{\r\n\r\n    render(){\r\n\r\n\r\n        return (\r\n            <div className='flex-container'>\r\n                <div>\r\n                {this.props.message? this.props.message:'No system messages'}\r\n                {this.props.element==='send_email'? <SendEmail/>:''}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    console.log(state)\r\n    if(state.showMessage) {\r\n        return {\r\n            message: state.showMessage.message,\r\n            element: state.showMessage.element\r\n\r\n        }\r\n    }\r\n    return {}\r\n}\r\n\r\nexport default connect(mapStateToProps)(ShowMessage)","\r\nimport React,{Component} from 'react';\r\nimport UploadImage from \"./UploadImage\";\r\n\r\nclass Setting extends Component{\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n        <UploadImage/>\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\nexport default Setting;","import React,{Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from 'react-redux';\r\nimport {fetchMessageList} from \"../actions\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport ComposeComment from \"./ComposeComment\";\r\nimport CommentSection from \"./CommentSection\";\r\nimport UploadImage from \"./UploadImage\";\r\n\r\nclass MessageList extends Component{\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.fetchMessageList();\r\n    }\r\n\r\n    handleNoPosts = () =>{\r\n        if(this.props.current_user.chats.length<1){\r\n\r\n            return(<div className='center-align'>\r\n                    <h4 >No Posts Yet</h4>\r\n                    <p>create posts to share moments with friends</p>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    render() {\r\n        if(this.props.current_user){\r\n            return(\r\n\r\n\r\n                <div className=\"push-s3\">\r\n\r\n\r\n\r\n                    {this.handleNoPosts()}\r\n\r\n\r\n                    <ul>\r\n                        {this.props.current_user.chats.reverse().map( (message) =>{\r\n                            let sender=[{username:''} ];\r\n                            if(message._users){\r\n                                 sender= message._users.filter((user)  => user._id!==this.props.current_user._id)\r\n\r\n                            }\r\n\r\n                            return(\r\n                                <li key={message._id}>\r\n                                <div  className=\"row \">\r\n                                    <div className=\"col s12 m6 push-m3 \">\r\n                                        <div className=\"card blue-grey darken-1\">\r\n                                            <div className=\"card-content white-text\">\r\n                                                <Link to={'/users/message/'+sender[0].username} className=\"card-title  center-align\">{sender[0].username}</Link>\r\n\r\n\r\n\r\n                                            </div>\r\n                                            <div className=\"card-action\">\r\n\r\n\r\n\r\n\r\n\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n\r\n                                </div>\r\n                                </li>\r\n\r\n                            )})}\r\n                    </ul>\r\n                </div>\r\n            )};\r\n\r\n        return <div> Loading !!!</div>\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        current_user:state.auth\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchMessageList})(MessageList);","import React,{Component} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport {connect} from 'react-redux';\r\nimport {fetchFeed,likePost} from \"../actions\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport ComposeComment from \"./ComposeComment\";\r\nimport CommentSection from \"./CommentSection\";\r\nimport UploadImage from \"./UploadImage\";\r\nimport handleMeta from \"./general/handleMeta\";\r\nimport keys from '../keys';\r\n\r\n\r\nclass Feed extends Component{\r\n\r\n    componentDidMount() {\r\n\r\n       this.props.fetchFeed();\r\n    }\r\n\r\n    handleNoPosts = () =>{\r\n      if(this.props.posts.length<1){\r\n\r\n          return(<div className='center-align'>\r\n                  <h4 >No News</h4>\r\n                  <p>create posts to share moments with friends</p>\r\n          </div>\r\n          );\r\n      }\r\n    };\r\n\r\n    render() {\r\n        if(this.props.current_user){\r\n            {document.body.style= \" background :#464646;\"}\r\n        return(\r\n\r\n\r\n            <div className=\"\">\r\n            <SearchBar/>\r\n\r\n\r\n\r\n                {this.handleNoPosts()}\r\n\r\n\r\n                <ul>\r\n                    {this.props.posts.reverse().map((post) =>{\r\n\r\n                        return(\r\n\r\n                                <div className=\"ui card centered \" style={{padding:'20px',backgroundColor:'#FF9800',width:'85vh', wordWrap:'break-word'} }>\r\n                                    <div className=\"content \" >\r\n\r\n                                        <div className='meta'>\r\n                                            {handleMeta(post)}\r\n                                        </div>\r\n                                        <div className=\"center aligned header\">{post.title}</div>\r\n\r\n\r\n                                        {/*<button className=\"btn-floating\" onClick={()=>this.props.likePost(post._id)}>*/}\r\n                                        {/*    <i className=\"material-icons\">{(post.likes.filter(e => e.username === this.props.current_user.username).length > 0)? 'favorite': 'favorite_border'}</i>*/}\r\n\r\n                                        {/*</button>*/}\r\n                                        <div className='description' style={{marginBottom:'75px'}}>\r\n                                            {post.content}\r\n                                        </div>\r\n\r\n                                        <span className=\"right floated\">\r\n\r\n                                        <i onClick={()=>this.props.likePost(post._id)} className={(post.likes.filter(e => e.username === this.props.current_user.username).length > 0)? \"heart  like icon\": \"heart outline  like icon\"}></i>\r\n\r\n\r\n                                            {post.likes.length}\r\n                                         </span>\r\n                                        <i class=\"comment icon\"></i>\r\n                                        {post.comments.length+'comments'}\r\n\r\n                                    </div>\r\n                                    <div className=\"ui right bottom floated\">\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                        <ComposeComment postId={post._id}/>\r\n                                        <CommentSection comments={post.comments} postId={post._id}/>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n\r\n\r\n\r\n                        )})}\r\n                </ul>\r\n            </div>\r\n        )};\r\n\r\n        return <div className='ui active dimmer centered ' >\r\n\r\n            <img className='ui medium image' src={keys.host+'loader.png'}/>\r\n            <div className=\"ui loader\">Loading</div>\r\n\r\n        </div>\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        posts:Object.values(state.feed),\r\n        current_user:state.auth\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchFeed,likePost})(Feed);","import React,{Component} from 'react';\r\nimport '../App.css';\r\nimport {BrowserRouter,Route} from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport {connect} from 'react-redux';\r\nimport Landing from \"./Landing\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport {fetchUser} from '../actions';\r\nimport NewPostForm from \"./post/NewPostForm\";\r\nimport OtherUser from \"./OtherUser\";\r\nimport SignUpForm from \"./registering/SignUpForm\";\r\nimport LogInForm from \"./registering/LogInForm\";\r\nimport verifyDelete from \"./post/verifyDelete\";\r\nimport FriendRequests from \"./FriendRequests\";\r\nimport Friends from \"./Friends\";\r\nimport Chat from \"./Chat\";\r\nimport ShowMessage from \"./general/ShowMessage\";\r\nimport Settings from '../components/Setting';\r\nimport ReactDom from 'react-dom';\r\nimport socketIOClient from 'socket.io-client';\r\nimport MessageList from \"./MessageList\";\r\nimport Feed from \"./Feed\";\r\nimport '../flex.css'\r\n\r\n\r\n\r\nclass App extends Component{\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.fetchUser();\r\n\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div  >\r\n\r\n                <BrowserRouter>\r\n                    <div>\r\n\r\n\r\n                        <Header/>\r\n                        <Route exact path=\"/\" component={Landing}/>\r\n                        <Route exact path=\"/dashboard\" component={Dashboard}/>\r\n                        <Route exact path=\"/feed\" component={Feed}/>\r\n\r\n                        <Route exact path=\"/post/new\" component={NewPostForm}/>\r\n                        <Route  path=\"/sign_up\" component={SignUpForm}/>\r\n                        <Route  path=\"/log_in\" component={LogInForm}/>\r\n                        <Route exact path=\"/post/edit\" component={NewPostForm}/>\r\n                        <Route exact path=\"/post/delete\" component={verifyDelete}/>\r\n                        <Route exact path=\"/user/requests\" component={FriendRequests}/>\r\n                        <Route exact path=\"/user/friends\" component={Friends}/>\r\n                        <Route exact path=\"/settings\" component={Settings}/>\r\n                        <Route exact path=\"/messages\" component={MessageList}/>\r\n                        <Route exact path=\"/showMessage\" component={ShowMessage}/>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <Route  exact path=\"/users/:name\" component={OtherUser}/>\r\n                        <Route  exact path=\"/users/message/:name\" component={Chat}/>\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </BrowserRouter>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default connect(null,{fetchUser})(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {combineReducers} from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport postReducer from \"./postReducer\";\r\nimport findUserReducer from \"./findUserReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport chatReducer from \"./chatReducer\";\r\nimport feedReducer from \"./feedReducer\";\r\nimport showMessageReducer from \"./showMessageReducer\";\r\n\r\n\r\nexport default combineReducers({\r\n   auth : authReducer,\r\n   form:formReducer,\r\n   posts:postReducer,\r\n   find:findUserReducer,\r\n   error:errorReducer,\r\n   chats:chatReducer,\r\n   feed:feedReducer,\r\n   showMessage:showMessageReducer\r\n});","import {FETCH_USER} from \"../actions/types\";\r\n\r\nexport default function authReducer(state=null,action) {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case FETCH_USER :\r\n            return action.payload || false ;\r\n        default:    return state;\r\n\r\n    }\r\n}","import {FETCH_POSTS,FETCH_POST,UPDATE_LIKES} from \"../actions/types\";\r\nimport _ from 'lodash';\r\n\r\nexport default function postReducer(state={},actions){\r\n\r\n    switch (actions.type) {\r\n\r\n\r\n        case UPDATE_LIKES:\r\n            return {...state,[actions.payload._id]:{...state[actions.payload._id],likes:actions.payload.likes}};\r\n\r\n        case FETCH_POST :\r\n\r\n\r\n            return {...state,[actions.payload._id]:actions.payload};\r\n\r\n        case FETCH_POSTS:\r\n                return {..._.mapKeys(actions.payload,'_id'),...state};\r\n\r\n\r\n        default :\r\n            return state;\r\n    }\r\n}","import {FETCH_POST, FETCH_POSTS, FIND_USER} from \"../actions/types\";\r\nimport _ from 'lodash';\r\n\r\nexport default function findUserReducer(state={},actions){\r\n\r\n    switch (actions.type) {\r\n\r\n        case FETCH_POST :\r\n\r\n\r\n            return {...state,[actions.payload._id]:actions.payload};\r\n\r\n        case FETCH_POSTS:\r\n            return {..._.mapKeys(actions.payload,'_id')};\r\n            default :\r\n            return state;\r\n    }\r\n}","import {CATCH_ERROR} from \"../actions/types\";\r\nimport { SubmissionError } from 'redux-form';\r\n\r\nexport default function errorReducer(state=null,action) {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case CATCH_ERROR :\r\n\r\n            if(action.payload) {\r\n\r\n                if (action.payload.type === \"sign_up_username_error\") {\r\n                    throw new SubmissionError({\r\n                        username: action.payload.error\r\n                    });\r\n\r\n                } else if (action.payload.type === \"sign_up_email_error\") {\r\n\r\n                    throw new SubmissionError({\r\n                        email: action.payload.error\r\n                    });\r\n                } else if (action.payload.type === \"log_in_error\") {\r\n\r\n                    throw new SubmissionError({\r\n                        username: action.payload.error\r\n                    });\r\n                } else if (action.payload.type === \"user_not_found\") {\r\n\r\n                   return {error:action.payload.error}\r\n\r\n                } else {\r\n                    return null\r\n                }\r\n            }else{\r\n                return null\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        default:    return state;\r\n\r\n    }\r\n}","import {FETCH_CHATS,UPDATE_CHATS} from \"../actions/types\";\r\n\r\nexport default function chatReducer(state={},actions){\r\n\r\n    switch (actions.type) {\r\n\r\n        case FETCH_CHATS :\r\n            return actions.payload;\r\n\r\n        case UPDATE_CHATS: {\r\n            if(state) {\r\n                let t = [...state.messages];\r\n                t.push(actions.payload.messages)\r\n                return {...state, messages: t};\r\n            }\r\n            return  actions.payload;\r\n\r\n        }\r\n        default :\r\n            return state;\r\n    }\r\n}","import {FETCH_FEED, FETCH_POST, FETCH_POSTS, UPDATE_LIKES} from \"../actions/types\";\r\nimport _ from 'lodash';\r\n\r\nexport default function feedReducer(state={},actions){\r\n\r\n    switch (actions.type) {\r\n\r\n\r\n\r\n        case UPDATE_LIKES:\r\n            return {...state,[actions.payload._id]:{...state[actions.payload._id],likes:actions.payload.likes}};\r\n\r\n        case FETCH_POST :\r\n\r\n\r\n            return {...state,[actions.payload._id]:actions.payload};\r\n\r\n\r\n        case FETCH_FEED:\r\n                return {..._.mapKeys(actions.payload,'_id')};\r\n\r\n\r\n        default :\r\n            return state;\r\n    }\r\n}","import {SHOW_MESSAGE} from \"../actions/types\";\r\nimport React from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport SendEmail from \"../components/SendEmail\";\r\n\r\nexport default function showMessageReducer(state=null,action) {\r\n\r\n    switch (action.type) {\r\n\r\n\r\n        case SHOW_MESSAGE :\r\n\r\n            if (action.payload) {\r\n\r\n\r\n                if(action.payload.type==='verify_email'){\r\n                    return ({message:'a verification token was sent to your email',\r\n                    element:'send_email'\r\n                    })\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n        default:\r\n            return state;\r\n\r\n\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'materialize-css/dist/css/materialize.min.css';\n//import 'semantic-ui-css/semantic.min.css'\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './components/App';\nimport {Provider} from 'react-redux';\nimport {createStore,applyMiddleware} from \"redux\";\nimport * as serviceWorker from './serviceWorker';\nimport reducers from './reducers';\nimport reduxThunk from 'redux-thunk';\nimport './index.css'\nimport './flex.css'\nimport socketIOClient from \"socket.io-client\";\nimport keys from './keys'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nexport const socket= socketIOClient(keys.host);\n\nconst persistConfig = {\n    key: 'root',\n    storage,\n    whitelist: ['showMessageReducer']\n}\nconst persistedReducer = persistReducer(persistConfig, reducers);\n\nconst store=createStore(persistedReducer,{},applyMiddleware(reduxThunk));\nlet persistor = persistStore(store)\nReactDOM.render(\n\n\n    <Provider  store={store}>\n       <PersistGate loading={null} persistor={persistor}>\n            <App />\n        </PersistGate>\n        </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}