(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{259:function(e,t,a){e.exports=a(465)},266:function(e,t,a){},27:function(e,t,a){e.exports={host:"/"}},459:function(e,t){},462:function(e,t,a){},465:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(38),c=a.n(s),o=(a(264),a(265),a(9)),i=a(10),l=a(11),u=a(12),m=a(13),p=(a(266),a(16)),d=a(58),h=a(14),f=a(74),b=a.n(f),v=a(475),g=a(474),y=a(27),E=a.n(y),O=[{key:"logout",text:"logout",value:"logout",as:"a",href:"/api/logout"},{key:"add",text:"setting",value:"setting",as:p.b,to:"/settings"}],j=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderContent",value:function(){switch(this.props.auth){case null:return;case!1:return[r.a.createElement("li",{key:"1"},r.a.createElement("a",{href:"/login/google/oauth"}," login with google ")),r.a.createElement("li",{key:"2"},r.a.createElement(p.b,{to:"/sign_up"},"Sign Up")),r.a.createElement("li",{key:"3"},r.a.createElement(p.b,{to:"/log_in"},"login"))];default:return[r.a.createElement("li",{key:"4"},"        ",r.a.createElement(b.a,null),"                    "),r.a.createElement("li",{key:"5"},r.a.createElement(p.b,{"data-tip":"create new post",to:{pathname:"/post/new",state:{postId:"",title:"",content:""}}},r.a.createElement("i",{className:"material-icons"},"create"))),r.a.createElement("li",{key:"6"},r.a.createElement(p.b,{"data-tip":"friend requests",to:"/user/requests",className:"collection-item"},"friend requests",r.a.createElement("span",{className:"new badge"},this.props.auth.friendRequestsReceived.length))),r.a.createElement("li",{key:"7"},r.a.createElement(p.b,{"data-tip":"friends",to:"/user/friends"},r.a.createElement("span",null,"friends"))),r.a.createElement("li",{key:"8"},r.a.createElement(p.b,{"data-tip":"messages",to:"/messages"},"messages")),r.a.createElement("li",{key:"9"},r.a.createElement("div",{className:"left",style:{minWidth:"80px"}},r.a.createElement(v.a.Group,{color:"teal",style:{height:"9.4vh",marginBottom:"0"}},r.a.createElement(v.a,null,r.a.createElement("img",{style:{width:"50px",height:"50px"},className:"circle responsive-img",src:this.props.auth.imageName?E.a.host+this.props.auth.imageName:""}),this.props.auth.username),r.a.createElement(g.a,{className:"button icon",floating:!0,trigger:r.a.createElement(r.a.Fragment,null),options:O}))))]}}},{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper",style:{backgroundColor:"orange"}},r.a.createElement(p.b,{to:this.props.auth?"/dashboard":"/",className:" left brand-logo "},r.a.createElement("img",{style:{height:"9.55vh"},className:"ui image medium",src:E.a.host+"logo1.png"})),r.a.createElement("ul",{className:"right"},this.renderContent())))}}]),t}(n.Component);var w=Object(h.b)(function(e){return{auth:e.auth}})(j),k=a(15),N=a.n(k),x=a(26),_=a(33),C=a.n(_),P="fetch_user",S="fetch_posts",D="catch_error",I="fetch_chats",M="fetch_post",U="update_likes",F="fetch_feed",R="update_chats",B="show_message";function T(){return function(){var e=Object(x.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("/api/current_user");case 2:a=e.sent,t({type:P,payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}function L(e,t){return function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.post("/api/post/delete",{postId:e});case 2:return r=a.sent,a.next=5,n({type:P,payload:r.data});case 5:t.push("/dashboard");case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}function q(e,t){return function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.get("/api/users/"+e);case 3:r=a.sent,t.push("/users/"+e),n({type:S,payload:r.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:D,payload:{type:"user_not_found",error:"this user doesn't exist"}});case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()}function A(e){try{return function(){var t=Object(x.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.post("/api/like",{postId:e});case 2:n=t.sent,a({type:U,payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}catch(t){console.log(t)}}function W(e){try{return function(){var t=Object(x.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.post("/api/add_friend",{username:e});case 2:n=t.sent,a({type:P,payload:n.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}catch(t){console.log(t)}}function H(e){return console.log(e),function(){var t=Object(x.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/api/upload",e);case 3:n=t.sent,a({type:P,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}var J=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},a.submitHandle=function(){a.props.sendComment(a.state.term,a.props.postId,a.props.history),a.setState({term:""})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("input",{value:this.state.term,placeholder:"Add Comment ...",className:"input-field",onChange:function(t){return e.setState({term:t.target.value})}}),r.a.createElement("button",{type:"submit",className:"btn-floating right",onClick:this.submitHandle},"send")))}}]),t}(n.Component),K=Object(h.b)(null,{sendComment:function(e,t,a){return function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.post("/api/post/comment",{postId:t,comment:e});case 2:r=a.sent,n({type:M,payload:r.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}})(Object(d.e)(J)),z=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createPortal(r.a.createElement("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",onClick:this.props.onClickOutside,onKeyDown:this.props.onKeyDown},r.a.createElement("div",{className:"modal-area"},r.a.createElement("button",{ref:this.props.buttonRef,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:this.props.closeModal},r.a.createElement("span",{id:"close-modal",className:"_hide-visual"},"Close"),r.a.createElement("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40"},r.a.createElement("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"}))),r.a.createElement("div",{className:"modal-body"},this.props.content))),document.getElementById("modal"))}}]),t}(n.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{ref:this.props.buttonRef,onClick:this.props.showModal,className:"modal-button"},this.props.triggerText)}}]),t}(n.Component),V=(n.Component,a(472)),Y=a(470),$=a(471),Q=function(e){var t=e.input,a=e.label,n=e.type,s=e.meta,c=s.touched,o=s.error;return r.a.createElement("div",{style:{marginBottom:"15px",marginTop:"30px"}},r.a.createElement("div",{className:"row "},r.a.createElement("input",Object.assign({placeholder:a,className:"input-field col s12 m8 offset-m2"},t,{type:n,style:{marginBottom:"5px"}}))),r.a.createElement("div",{className:"red-text row"},r.a.createElement("p",{className:"col offset-m2"},c&&o)))},X=(a(47),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderContent",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"9.3vh"},className:"ui image medium",src:E.a.host+"logo1.png"}),r.a.createElement(V.a,{name:"username",type:"text",label:"Username or email",component:Q}),r.a.createElement(V.a,{name:"password",type:"password",label:"Password",component:Q}))}},{key:"render",value:function(){var e=this;return console.log("values"),r.a.createElement("div",{className:"flex-container"},r.a.createElement(Y.a,{className:"form-field",style:{border:"3px solid teal",padding:"25px 25px",color:"blue",minWidth:"250px",maxWidth:"300px"},onSubmit:this.props.handleSubmit(function(t){return e.props.logIn(t,e.props.history)})},this.renderContent(),r.a.createElement(p.b,{to:"/dashboard",className:"red  btn-flat"},"Back"),r.a.createElement("button",{type:"submit",className:"right teal  btn-flat"},"Log In")))}}]),t}(n.Component));var Z=Object(h.b)(null,{logIn:function(e,t){return console.log(e),function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.post("/login/common",e);case 3:(r=a.sent).data&&(t.push("/dashboard"),n({type:P,payload:r.data})),a.next=11;break;case 7:return a.prev=7,a.t0=a.catch(0),n({type:D,payload:{type:"log_in_error",error:"incorrect username or password"}}),a.abrupt("return");case 11:case"end":return a.stop()}},a,null,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()}})(Object($.a)({validate:function(e){var t={};return e.username||(t.username="Enter a username or email !"),e.password||(t.password="Enter your password !"),t},form:"logInForm"})(Object(d.e)(X))),ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isShowing:!1},a.openModalHandler=function(){a.setState({isShowing:!0})},a.closeModalHandler=function(){a.setState({isShowing:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"flex-container "},r.a.createElement("div",{className:"landing",style:{flexBasis:"15%"}}),r.a.createElement("div",{className:"landing",style:{flexBasis:"15%"}},r.a.createElement("h1",null,"intouch"),r.a.createElement("h5",null,"contact your friends")),r.a.createElement("div",{className:"landing",style:{flexBasis:"50%",padding:"25px 25px"}},r.a.createElement(Z,null)))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"search_friend col offset-m9 m3 offset-s2 s8 darken-2 grey z-depth-3 card-panel",style:{marginTop:"40px"}},r.a.createElement("label",{className:"label  white-text",htmlFor:"search_friend"}," find profiles by username"),r.a.createElement("input",{className:"input-field lighten-1",placeholder:"Search ...",id:"search_friend",onChange:function(t){return e.setState({term:t.target.value})}}),r.a.createElement("span",{style:{color:"orange"}},this.props.error?this.props.error.error:""),r.a.createElement("button",{className:"right btn-flat teal ",onClick:function(){return e.props.findUser(e.state.term,e.props.history)}},r.a.createElement("i",{className:"material-icons"},"search"))))}}]),t}(n.Component);var ae=Object(h.b)(function(e){return{error:e.error}},{findUser:q})(Object(d.e)(te)),ne=a(473),re=a(478);function se(e){return e.createdAt?e.isEdited?"edited at "+new Date(e.createdAt).toDateString():new Date(e.createdAt).toDateString:"no date"}var ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={num:0},a.getComments=function(){a.setState(function(e){return{num:e.num+1}}),a.props.getMoreComments(a.props.postId,a.state.num)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({num:1})}},{key:"render",value:function(){var e=this;return r.a.createElement(ne.a.Group,null,r.a.createElement(re.a,{as:"h3",dividing:!0},"Comments"),r.a.createElement("div",null,this.props.comments.map(function(t){return r.a.createElement(ne.a,null,r.a.createElement(ne.a.Avatar,{src:E.a.host+t._user.imageName}),r.a.createElement(ne.a.Content,null,r.a.createElement(ne.a.Author,{className:"clickable",onClick:function(){return e.props.findUser(t.name,e.props.history)}},t.name),r.a.createElement(ne.a.Metadata,null,r.a.createElement("div",null,se(t))),r.a.createElement(ne.a.Text,null,t.comment)),r.a.createElement("div",{className:"ui hidden divider"}))}),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.getComments}," more comments"))))}}]),t}(n.Component),oe=Object(h.b)(null,{getMoreComments:function(e,t){return function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.post("/api/comment",{postId:e,num:t});case 2:r=a.sent,n({type:S,payload:r.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},findUser:q})(Object(d.e)(ce)),ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={file:"",fileURL:""},a.handleSubmit=function(){var e=new FormData;e.append("imageData",a.state.file),a.props.uploadImage(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col offset-m2 m3 offset-s2 s8 darken-2 grey z-depth-3 card-panel",style:{marginTop:"40px"}},r.a.createElement("label",{className:"label  white-text",htmlFor:"upload"}," upload image"),r.a.createElement("input",{name:"imageData",type:"file",className:"input-field lighten-1",id:"upload",style:{width:"200px"},onChange:function(t){return e.setState({file:t.target.files[0],fileURL:URL.createObjectURL(t.target.files[0])})}}),r.a.createElement("img",{style:{width:"100px",height:"100px"},src:this.state.fileURL}),r.a.createElement("button",{className:"right btn-flat teal ",onClick:this.handleSubmit},r.a.createElement("i",{className:"material-icons"},"send"))))}}]),t}(n.Component),le=Object(h.b)(null,{uploadImage:H})(Object(d.e)(ie)),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={skip:0},a.handleNoPosts=function(){if(a.props.posts.length<1)return r.a.createElement("div",{className:"center-align"},r.a.createElement("h4",null,"No Posts Yet"),r.a.createElement("p",null,"create posts to share moments with friends"))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",function(){1===(document.body.scrollTop||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)&&(e.setState(function(e){return{skip:e.skip+1}}),e.props.fetchPosts(e.state.skip))}),this.props.fetchPosts(this.state.skip)}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("scroll",function(){e.setState({skip:0})})}},{key:"render",value:function(){var e=this;return this.props.current_user?(document.body.style=" background :#464646;",r.a.createElement("div",null,r.a.createElement(ae,null),this.handleNoPosts(),r.a.createElement("ul",null,this.props.posts.map(function(t){return r.a.createElement("div",{className:"ui card centered ",style:{padding:"20px",backgroundColor:"#FF9800",width:"85vh",wordWrap:"break-word"}},r.a.createElement("div",{className:"content "},r.a.createElement("div",null,r.a.createElement(p.b,{to:{pathname:"/post/edit",state:{title:t.title,content:t.content,postId:t._id,images:t.images}}},"edit"),r.a.createElement(p.b,{className:"right",to:{pathname:"/post/delete",state:{title:t.title,content:t.content,postId:t._id}}},"delete")),r.a.createElement("div",{className:"meta"},se(t)),r.a.createElement("div",{className:"center aligned header"},t.title),r.a.createElement("div",{className:"flex-container-posts-image"},t.images.map(function(e){return r.a.createElement("img",{style:{width:"200px",height:"200px",padding:"30px"},src:e?E.a.host+e:""})})),r.a.createElement("div",{className:"description",style:{marginBottom:"75px"}},t.content),r.a.createElement("span",{className:"right floated"},r.a.createElement("i",{onClick:function(){return e.props.likePost(t._id)},className:t.likes.filter(function(t){return t.username===e.props.current_user.username}).length>0?"heart  like icon":"heart outline  like icon"}),t.likes.length),r.a.createElement("i",{class:"comment icon"}),t.comments.length+"comments"),r.a.createElement("div",{className:"ui right bottom floated"},r.a.createElement(K,{postId:t._id}),r.a.createElement(oe,{comments:t.comments,postId:t._id})))})))):r.a.createElement("div",{className:"ui active dimmer centered "},r.a.createElement("img",{className:"ui medium image",src:E.a.host+"loader.png"}),r.a.createElement("div",{className:"ui loader"},"Loading"))}}]),t}(n.Component);var me=Object(h.b)(function(e){return{posts:Object.values(e.posts),current_user:e.auth}},{fetchPosts:function(e){return function(){var t=Object(x.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.get("/api/posts/"+e);case 3:n=t.sent,a({type:S,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},likePost:A,deletePost:L,uploadImage:H})(ue),pe=a(91),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=new FormData;e.append("files",a.state.files),a.props.uploadImage(e)},a.state={files:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"   m3 s8 darken-2 grey z-depth-3 card-panel",style:{marginTop:"40px"}},r.a.createElement("label",{className:"label  white-text",htmlFor:"upload"}," upload images"),r.a.createElement("input",{name:"imageData",multiple:!0,type:"file",className:"input-field lighten-1",id:"upload",style:{width:"1000px"},onChange:function(t){e.setState({files:Object(pe.a)(t.target.files)}),e.props.handleImageData(Object(pe.a)(t.target.files))}}),r.a.createElement("div",{className:"flex-container-posts-image"},this.state.files.map(function(e){return r.a.createElement("div",null,r.a.createElement("img",{style:{width:"200px",height:"200px"},src:URL.createObjectURL(e)}))})))}}]),t}(n.Component),he=Object(h.b)(null,{uploadImage:H})(Object(d.e)(de)),fe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imageData:[]},a.handleImageData=function(e){console.log(e),e&&a.setState({imageData:e},function(){return console.log(a.state.imageData)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initialize({title:this.props.location.state.title,content:this.props.location.state.content,images:this.props.location.state.images}),console.log(this.props.location.state.images)}},{key:"renderContent",value:function(){return r.a.createElement("div",null,r.a.createElement(V.a,{name:"title",type:"text",label:"title",component:Q}),r.a.createElement(V.a,{name:"content",type:"text",label:"content",component:Q}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",{style:{minWidth:"250px",maxWidth:"600px"}},r.a.createElement(he,{handleImageData:function(t){return e.handleImageData(t)}}),r.a.createElement(Y.a,{className:"form-field",onSubmit:this.props.handleSubmit(function(){var t=Object(x.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new FormData,console.log(e.state.imageData),t.next=4,e.state.imageData.forEach(function(e){return n.append("imageData",e)});case 4:n.append("values",JSON.stringify(a)),n.append("postId",e.props.location.state.postId),e.props.sendPost(e.props.location.state.postId,a,n,e.props.history,e.props.user._id);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},this.renderContent(),r.a.createElement(p.b,{to:"/dashboard",className:"red  btn-flat"},"Back"),r.a.createElement("button",{type:"submit",className:"right teal  btn-flat"},"Post"))))}}]),t}(n.Component);var be=Object(h.b)(function(e){return{user:e.auth}},{sendPost:function(e,t,a,n,r){return console.log(a),function(){var e=Object(x.a)(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.stringify(a);case 2:return e.sent,e.next=5,C.a.post("/api/post/"+r,a);case 5:e.sent,n.push("/dashboard");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(Object($.a)({validate:function(e){var t={};return e.title||(t.title="provide bitch !"),e.content||(t.content="provide bitch !"),t},form:"newPostForm"})(Object(d.e)(fe))),ve=a(247),ge=a(92),ye=a.n(ge),Ee=Object(h.b)(null,{sendFriendRequest:W})(function(e){var t=Object(ge.useModali)({animated:!0,title:"Verify action",message:"are you sure you want to remove this user from your friends ?",buttons:[r.a.createElement(ye.a.Button,{label:"Cancel",isStyleCancel:!0,onClick:function(){return s()}}),r.a.createElement(ye.a.Button,{label:"Remove friend",isStyleDestructive:!0,onClick:function(){e.sendFriendRequest(e.name),s()}})]}),a=Object(ve.a)(t,2),n=a[0],s=a[1];return r.a.createElement("div",null,r.a.createElement("button",{onClick:s,"data-for":"friendRemove","data-tip":"remove friend"},r.a.createElement("i",{className:"material-icons"},"highlight_off"),r.a.createElement(b.a,{id:"friendRemove"})),r.a.createElement(ye.a.Modal,n))}),Oe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.findUser(this.props.match.params.name,this.props.history)}},{key:"setFriendIcon",value:function(){var e=this;return this.props.current_user?this.props.current_user.friends.filter(function(t){return t.username===e.props.match.params.name}).length>0?r.a.createElement("i",{className:"material-icons"},"highlight_off"):this.props.current_user.friendRequestsSent.filter(function(t){return t.username===e.props.match.params.name}).length>0?r.a.createElement("i",{className:"material-icons"},"error"):r.a.createElement("i",{className:"material-icons"},"person_add"):r.a.createElement("p",null,"Login to add as friend")}},{key:"setFriendToolTip",value:function(){var e=this;return this.props.current_user?this.props.current_user.friends.filter(function(t){return t.username===e.props.match.params.name}).length>0?"remove friend":this.props.current_user.friendRequestsSent.filter(function(t){return t.username===e.props.match.params.name}).length>0?"request pending":"add friend":"not logged in"}},{key:"handleFriendButton",value:function(){var e=this;return this.props.current_user?this.props.current_user.friends.filter(function(t){return t.username===e.props.match.params.name}).length>0?r.a.createElement(Ee,{name:this.props.match.params.name}):r.a.createElement("button",{"data-for":"friendOption","data-tip":this.setFriendToolTip(),onClick:function(){return e.props.sendFriendRequest(e.props.match.params.name)}},this.setFriendIcon(),r.a.createElement(b.a,{id:"friendOption"})):"not logged in"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"push-s3"},this.handleFriendButton(),r.a.createElement(p.b,{to:"/users/message/"+this.props.match.params.name},"message"),r.a.createElement(ae,null),r.a.createElement("ul",null,this.props.friendPosts.reverse().map(function(t){return r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col s12 m6 push-m3 "},r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement("div",{className:"meta"},se(t)),r.a.createElement("span",{className:"card-title  center-align"},t.title),r.a.createElement("p",null,t.content),r.a.createElement("p",null,"likes : ",t.likes.length)),r.a.createElement("div",{className:"card-action"},r.a.createElement("button",{onClick:function(){return e.props.likePost(t._id)}},"Like"),r.a.createElement(K,{postId:t._id}),r.a.createElement(oe,{comments:t.comments,postId:t._id})))))})))}}]),t}(n.Component);var je=Object(h.b)(function(e){return{friendPosts:Object.values(e.find),current_user:e.auth}},{likePost:A,findUser:q,sendFriendRequest:W})(Object(d.e)(Oe)),we=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderContent",value:function(){return r.a.createElement("div",null,r.a.createElement("img",{style:{height:"9.3vh"},className:"ui image medium",src:E.a.host+"logo1.png"}),r.a.createElement(V.a,{name:"username",type:"text",label:"Username",component:Q}),r.a.createElement(V.a,{name:"email",type:"email",label:"\u064dEmail",component:Q}),r.a.createElement(V.a,{name:"password",type:"password",label:"Password",component:Q}),r.a.createElement(V.a,{name:"confirmPass",type:"password",label:"Confirm Password",component:Q}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"flex-container"},r.a.createElement(Y.a,{className:"form-field",style:{border:"3px solid teal",padding:"25px 25px",color:"blue",alignSelf:"flex-end",minWidth:"250px",maxWidth:"300px"},onSubmit:this.props.handleSubmit(function(t){return e.props.signUp(t,e.props.history)})},this.renderContent(),r.a.createElement(p.b,{to:"/",className:"red  btn-flat"},"Back"),r.a.createElement("button",{type:"submit",className:"right teal  btn-flat"},"Sign Up")))}}]),t}(n.Component);var ke=Object(h.b)(null,{signUp:function(e,t){return console.log(e),function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.post("/api/sign_up",e);case 3:r=a.sent,a.next=9;break;case 6:return a.prev=6,a.t0=a.catch(0),a.abrupt("return");case 9:r.data?n({type:D,payload:r.data}):(n({type:B,payload:{type:"verify_email"}}),t.push("/showMessage"));case 10:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()}})(Object($.a)({validate:function(e,t){var a={};return e.username||(a.username="Choose a username !"),e.email||(a.email="Enter your email !"),e.password||(a.password="choose a password !"),e.confirmPass||(a.confirmPass="confirm password !"),e.confirmPass!==e.password&&(a.confirmPass="this is a different password"),a},form:"signUpForm"})(Object(d.e)(we)));var Ne=Object(h.b)(null,{deletePost:L})(function(e){return r.a.createElement("div",null,r.a.createElement("label",null,e.location.state.title),r.a.createElement("p",null,e.location.state.content),r.a.createElement("button",{className:"red right",onClick:function(){return e.deletePost(e.location.state.postId,e.history)}},"delete"),r.a.createElement(p.b,{to:"/dashboard"}," Back"))}),xe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.friendRequests?this.props.friendRequests.friendRequestsReceived:[],r.a.createElement("div",null,r.a.createElement("ul",{style:{marginTop:"50px"}},e.reverse().map(function(e){return r.a.createElement("div",{className:" ui card centered  "},r.a.createElement("div",{className:"content"},r.a.createElement("img",{className:"right floated mini ui image",src:E.a.host+e.imageName}),r.a.createElement("div",{className:"header clickable",onClick:function(){return t.props.findUser(e.username,t.props.history)}},e.username),r.a.createElement("div",{className:"ui two buttons"},r.a.createElement("div",{className:"ui basic green button",onClick:function(){return t.props.acceptFriendRequest(e._id)}},"Approve"),r.a.createElement("div",{className:"ui basic red button"},"Decline"))))})))}}]),t}(n.Component);var _e=Object(h.b)(function(e){return{friendRequests:e.auth}},{acceptFriendRequest:function(e){return function(){var t=Object(x.a)(N.a.mark(function t(a){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.a.post("/api/accept",{userId:e});case 3:n=t.sent,a({type:P,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},findUser:q})(xe),Ce=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.props.friends?this.props.friends.friends:[],r.a.createElement("div",null,r.a.createElement("ul",{style:{marginTop:"50px"}},e.reverse().map(function(e){return r.a.createElement("div",{className:"ui card centered "},r.a.createElement("div",{className:"content clickable ",onClick:function(){return t.props.findUser(e.username,t.props.history)}},r.a.createElement("img",{className:"ui avatar image",src:E.a.host+e.imageName}),r.a.createElement("div",{className:"header center aligned"},e.username)))})))}}]),t}(n.Component);var Pe=Object(h.b)(function(e){return{friends:e.auth}},{findUser:q})(Ce),Se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={term:""},a.scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.renderContent=function(){return console.log(a.props.chats),a.props.chats&&a.props.chats.messages&&a.props.current_user?r.a.createElement("div",{className:"chat_flex_container_container"},r.a.createElement("div",{className:"  chat_flex_container"},r.a.createElement("div",{className:"content clickable  ",onClick:function(){return a.props.findUser(a.props.match.params.name,a.props.history)},style:{backgroundColor:"grey",alignSelf:"flex-start",width:"100%"}},r.a.createElement(p.b,{className:" right brand-logo "},r.a.createElement("img",{style:{width:"50px",height:"50px"},className:"circle responsive-img",src:a.props.chats._users[1].imageName?E.a.host+a.props.chats._users[1].imageName:""}))),a.props.chats.messages.map(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:e._sender===a.props.current_user._id?{margin:"50px 50px",alignSelf:"flex-start",maxWidth:"45%",wordWrap:"break-word"}:{margin:"50px 50px",alignSelf:"flex-end",maxWidth:"45%",wordWrap:"break-word"},className:e._sender===a.props.current_user._id?" light-green  card-panel ":" light-blue card-panel"},e.message),r.a.createElement("br",null))}))):"No messages yet"},a.submitHandle=function(){a.state.term&&(a.props.sendMessage(a.props.current_user._id,a.props.match.params.name,a.state.term),a.setState({term:""}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(x.a)(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.props.fetchUser());case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()().then(function(){e.props.fetchChats(e.props.current_user._id,e.props.match.params.name),e.scrollToBottom()})}},{key:"componentDidUpdate",value:function(e,t,a){this.props.current_user&&JSON.stringify(e.chats)!==JSON.stringify(this.props.chats)&&this.scrollToBottom()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:"100px"}},this.renderContent(),";"),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col offset-m2 m8 offset-s2 s8 darken-2 page-footer",id:"footer"},r.a.createElement("textarea",{value:this.state.term,className:"input-field lighten-2",onChange:function(t){return e.setState({term:t.target.value})}}),r.a.createElement("button",{className:"right btn-flat teal ",onClick:this.submitHandle},r.a.createElement("i",{className:"material-icons"},"send")))))}}]),t}(n.Component);var De=Object(h.b)(function(e){return console.log(e.chats),{current_user:e.auth,chats:e.chats}},{fetchChats:function(e,t){return function(){var a=Object(x.a)(N.a.mark(function a(n){return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:ut.emit("initial_data",{myId:e,name:t}),ut.on("initial_data",function(e){n({type:I,payload:e})});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},sendMessage:function(e,t,a){return function(){var n=Object(x.a)(N.a.mark(function n(r){return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:ut.emit("send_message",{myId:e,name:t,message:a}),ut.on("updated_chat",function(e){r({type:R,payload:e}),ut.off("updated_chat")});case 2:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},findUser:q,fetchUser:T})(Object(d.e)(Se)),Ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={term:"",btnDisable:!1,time:0},a.submitHandle=function(){a.state.term&&(a.props.resendToken(a.state.term,a.props.history),a.setState(function(e){return{btnDisable:!0,time:300}},a.setTimer))},a.setTimer=function(){a.interval=setInterval(function(){a.setState(function(e){return e.time>0?{time:e.time-1}:{time:0,btnDisable:!1}})},1e3)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("p",null,"if you didn't receive a token enter your email below and press send"),r.a.createElement("input",{type:"email",onChange:function(t){return e.setState({term:t.target.value})}}),r.a.createElement("button",{className:"right btn-flat teal ",disabled:this.state.btnDisable,onClick:this.submitHandle},r.a.createElement("i",{className:"material-icons"},"send")),r.a.createElement("div",null,this.state.time>0?Math.floor(this.state.time/60)+" : "+this.state.time%60:""))}}]),t}(n.Component),Me=Object(h.b)(null,{resendToken:function(e,t){return function(){var a=Object(x.a)(N.a.mark(function a(n){var r;return N.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.a.post("/api/resendToken",{email:e});case 3:r=a.sent,a.next=9;break;case 6:return a.prev=6,a.t0=a.catch(0),a.abrupt("return");case 9:r.data?n({type:D,payload:r.data}):(n({type:B,payload:{type:"verify_email"}}),t.push("/showMessage"));case 10:case"end":return a.stop()}},a,null,[[0,6]])}));return function(e){return a.apply(this,arguments)}}()}})(Object(d.e)(Ie)),Ue=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",null,this.props.message?this.props.message:"No system messages","send_email"===this.props.element?r.a.createElement(Me,null):""))}}]),t}(n.Component);var Fe=Object(h.b)(function(e){return console.log(e),e.showMessage?{message:e.showMessage.message,element:e.showMessage.element}:{}})(Ue),Re=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(le,null))}}]),t}(n.Component),Be=a(149),Te=a.n(Be),Le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).handleNoPosts=function(){if(a.props.current_user.chats.length<1)return r.a.createElement("div",{className:"center-align"},r.a.createElement("h4",null,"No Posts Yet"),r.a.createElement("p",null,"create posts to share moments with friends"))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchMessageList()}},{key:"render",value:function(){var e=this;return this.props.current_user?r.a.createElement("div",{className:"push-s3"},this.handleNoPosts(),r.a.createElement("ul",null,this.props.current_user.chats.reverse().map(function(t){var a=[{username:""}];return t._users&&(a=t._users.filter(function(t){return t._id!==e.props.current_user._id})),r.a.createElement("li",{key:t._id},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col s12 m6 push-m3 "},r.a.createElement("div",{className:"card blue-grey darken-1"},r.a.createElement("div",{className:"card-content white-text"},r.a.createElement(p.b,{to:"/users/message/"+a[0].username,className:"card-title  center-align"},a[0].username)),r.a.createElement("div",{className:"card-action"})))))}))):r.a.createElement("div",null," Loading !!!")}}]),t}(n.Component);var qe=Object(h.b)(function(e){return{current_user:e.auth}},{fetchMessageList:function(){return function(){var e=Object(x.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/messages");case 3:a=e.sent,t({type:P,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(Le),Ae=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).handleNoPosts=function(){if(a.props.posts.length<1)return r.a.createElement("div",{className:"center-align"},r.a.createElement("h4",null,"No News"),r.a.createElement("p",null,"create posts to share moments with friends"))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFeed()}},{key:"render",value:function(){var e=this;return this.props.current_user?(document.body.style=" background :#464646;",r.a.createElement("div",{className:""},r.a.createElement(ae,null),this.handleNoPosts(),r.a.createElement("ul",null,this.props.posts.reverse().map(function(t){return r.a.createElement("div",{className:"ui card centered ",style:{padding:"20px",backgroundColor:"#FF9800",width:"85vh",wordWrap:"break-word"}},r.a.createElement("div",{className:"content "},r.a.createElement("div",{className:"meta"},se(t)),r.a.createElement("div",{className:"center aligned header"},t.title),r.a.createElement("div",{className:"description",style:{marginBottom:"75px"}},t.content),r.a.createElement("span",{className:"right floated"},r.a.createElement("i",{onClick:function(){return e.props.likePost(t._id)},className:t.likes.filter(function(t){return t.username===e.props.current_user.username}).length>0?"heart  like icon":"heart outline  like icon"}),t.likes.length),r.a.createElement("i",{class:"comment icon"}),t.comments.length+"comments"),r.a.createElement("div",{className:"ui right bottom floated"},r.a.createElement(K,{postId:t._id}),r.a.createElement(oe,{comments:t.comments,postId:t._id})))})))):r.a.createElement("div",{className:"ui active dimmer centered "},r.a.createElement("img",{className:"ui medium image",src:E.a.host+"loader.png"}),r.a.createElement("div",{className:"ui loader"},"Loading"))}}]),t}(n.Component);var We=Object(h.b)(function(e){return{posts:Object.values(e.feed),current_user:e.auth}},{fetchFeed:function(){return function(){var e=Object(x.a)(N.a.mark(function e(t){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("/api/feed");case 3:a=e.sent,t({type:F,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},likePost:A})(Ae),He=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement(d.a,{exact:!0,path:"/",component:ee}),r.a.createElement(d.a,{exact:!0,path:"/dashboard",component:me}),r.a.createElement(d.a,{exact:!0,path:"/feed",component:We}),r.a.createElement(d.a,{exact:!0,path:"/post/new",component:be}),r.a.createElement(d.a,{path:"/sign_up",component:ke}),r.a.createElement(d.a,{path:"/log_in",component:Z}),r.a.createElement(d.a,{exact:!0,path:"/post/edit",component:be}),r.a.createElement(d.a,{exact:!0,path:"/post/delete",component:Ne}),r.a.createElement(d.a,{exact:!0,path:"/user/requests",component:_e}),r.a.createElement(d.a,{exact:!0,path:"/user/friends",component:Pe}),r.a.createElement(d.a,{exact:!0,path:"/settings",component:Re}),r.a.createElement(d.a,{exact:!0,path:"/messages",component:qe}),r.a.createElement(d.a,{exact:!0,path:"/showMessage",component:Fe}),r.a.createElement(d.a,{exact:!0,path:"/users/:name",component:je}),r.a.createElement(d.a,{exact:!0,path:"/users/message/:name",component:De}))))}}]),t}(n.Component),Je=Object(h.b)(null,{fetchUser:T})(He),Ke=a(22);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ze=a(476),Ge=a(29),Ve=a(79),Ye=a.n(Ve);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(a,!0).forEach(function(t){Object(Ge.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach(function(t){Object(Ge.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var et=a(248);function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(Ge.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rt=Object(Ke.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return t.payload||!1;default:return e}},form:ze.a,posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Qe({},e,Object(Ge.a)({},t.payload._id,Qe({},e[t.payload._id],{likes:t.payload.likes})));case M:return Qe({},e,Object(Ge.a)({},t.payload._id,t.payload));case S:return Qe({},Ye.a.mapKeys(t.payload,"_id"),{},e);default:return e}},find:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Ze({},e,Object(Ge.a)({},t.payload._id,t.payload));case S:return Ze({},Ye.a.mapKeys(t.payload,"_id"));default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:if(t.payload){if("sign_up_username_error"===t.payload.type)throw new et.a({username:t.payload.error});if("sign_up_email_error"===t.payload.type)throw new et.a({email:t.payload.error});if("log_in_error"===t.payload.type)throw new et.a({username:t.payload.error});return"user_not_found"===t.payload.type?{error:t.payload.error}:null}return null;default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.payload;case R:if(e){var a=Object(pe.a)(e.messages);return a.push(t.payload.messages),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(a,!0).forEach(function(t){Object(Ge.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{messages:a})}return t.payload;default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return nt({},e,Object(Ge.a)({},t.payload._id,nt({},e[t.payload._id],{likes:t.payload.likes})));case M:return nt({},e,Object(Ge.a)({},t.payload._id,t.payload));case F:return nt({},Ye.a.mapKeys(t.payload,"_id"));default:return e}},showMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:if(t.payload&&"verify_email"===t.payload.type)return{message:"a verification token was sent to your email",element:"send_email"};default:return e}}}),st=a(243),ct=(a(462),a(244)),ot=a(158),it=a(245),lt=a.n(it);a.d(t,"socket",function(){return ut});var ut=Te()(E.a.host),mt={key:"root",storage:lt.a,whitelist:["showMessageReducer"]},pt=Object(ot.a)(mt,rt),dt=Object(Ke.d)(pt,{},Object(Ke.a)(st.a)),ht=Object(ot.b)(dt);c.a.render(r.a.createElement(h.a,{store:dt},r.a.createElement(ct.a,{loading:null,persistor:ht},r.a.createElement(Je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},47:function(e,t,a){}},[[259,1,2]]]);
//# sourceMappingURL=main.7084b881.chunk.js.map